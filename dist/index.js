"use strict";var Bc=Object.create;var jr=Object.defineProperty;var jc=Object.getOwnPropertyDescriptor;var Uc=Object.getOwnPropertyNames;var Mc=Object.getPrototypeOf,$c=Object.prototype.hasOwnProperty;var Ae=(e,t)=>()=>(e&&(t=e(e=0)),t);var q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),oo=(e,t)=>{for(var r in t)jr(e,r,{get:t[r],enumerable:!0})},so=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Uc(t))!$c.call(e,i)&&i!==r&&jr(e,i,{get:()=>t[i],enumerable:!(n=jc(t,i))||n.enumerable});return e};var nt=(e,t,r)=>(r=e!=null?Bc(Mc(e)):{},so(t||!e||!e.__esModule?jr(r,"default",{value:e,enumerable:!0}):r,e)),ao=e=>so(jr({},"__esModule",{value:!0}),e);var Ur=q(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.toCommandProperties=Ct.toCommandValue=void 0;function Kc(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Ct.toCommandValue=Kc;function Vc(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Ct.toCommandProperties=Vc});var lo=q(Be=>{"use strict";var Gc=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wc=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yc=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Gc(t,e,r);return Wc(t,e),t};Object.defineProperty(Be,"__esModule",{value:!0});Be.issue=Be.issueCommand=void 0;var Jc=Yc(require("os")),co=Ur();function fo(e,t,r){let n=new _n(e,t,r);process.stdout.write(n.toString()+Jc.EOL)}Be.issueCommand=fo;function Hc(e,t=""){fo(e,{},t)}Be.issue=Hc;var uo="::",_n=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=uo+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${Qc(i)}`)}}return t+=`${uo}${Xc(this.message)}`,t}};function Xc(e){return co.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Qc(e){return co.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Zt(){return Mr>$r.length-16&&(ho.default.randomFillSync($r),Mr=0),$r.slice(Mr,Mr+=16)}var ho,$r,Mr,Tn=Ae(()=>{ho=nt(require("crypto")),$r=new Uint8Array(256),Mr=$r.length});var mo,yo=Ae(()=>{mo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function zc(e){return typeof e=="string"&&mo.test(e)}var it,er=Ae(()=>{yo();it=zc});function Zc(e,t=0){let r=(ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]).toLowerCase();if(!it(r))throw TypeError("Stringified UUID is invalid");return r}var ve,ot,tr=Ae(()=>{er();ve=[];for(let e=0;e<256;++e)ve.push((e+256).toString(16).substr(1));ot=Zc});function ef(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||po,f=e.clockseq!==void 0?e.clockseq:An;if(o==null||f==null){let b=e.random||(e.rng||Zt)();o==null&&(o=po=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),f==null&&(f=An=(b[6]<<8|b[7])&16383)}let m=e.msecs!==void 0?e.msecs:Date.now(),g=e.nsecs!==void 0?e.nsecs:Fn+1,E=m-On+(g-Fn)/1e4;if(E<0&&e.clockseq===void 0&&(f=f+1&16383),(E<0||m>On)&&e.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");On=m,Fn=g,An=f,m+=122192928e5;let d=((m&268435455)*1e4+g)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let A=m/4294967296*1e4&268435455;i[n++]=A>>>8&255,i[n++]=A&255,i[n++]=A>>>24&15|16,i[n++]=A>>>16&255,i[n++]=f>>>8|128,i[n++]=f&255;for(let b=0;b<6;++b)i[n+b]=o[b];return t||ot(i)}var po,An,On,Fn,go,vo=Ae(()=>{Tn();tr();On=0,Fn=0;go=ef});function tf(e){if(!it(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Kr,bn=Ae(()=>{er();Kr=tf});function rf(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Vr(e,t,r){function n(i,o,f,m){if(typeof i=="string"&&(i=rf(i)),typeof o=="string"&&(o=Kr(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+i.length);if(g.set(o),g.set(i,o.length),g=r(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,f){m=m||0;for(let E=0;E<16;++E)f[m+E]=g[E];return f}return ot(g)}try{n.name=e}catch{}return n.DNS=nf,n.URL=of,n}var nf,of,Nn=Ae(()=>{tr();bn();nf="6ba7b810-9dad-11d1-80b4-00c04fd430c8",of="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function sf(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Eo.default.createHash("md5").update(e).digest()}var Eo,wo,So=Ae(()=>{Eo=nt(require("crypto"));wo=sf});var af,_o,To=Ae(()=>{Nn();So();af=Vr("v3",48,wo),_o=af});function uf(e,t,r){e=e||{};let n=e.random||(e.rng||Zt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return ot(n)}var Ao,Oo=Ae(()=>{Tn();tr();Ao=uf});function cf(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Fo.default.createHash("sha1").update(e).digest()}var Fo,bo,No=Ae(()=>{Fo=nt(require("crypto"));bo=cf});var ff,Co,Po=Ae(()=>{Nn();No();ff=Vr("v5",80,bo),Co=ff});var Io,xo=Ae(()=>{Io="00000000-0000-0000-0000-000000000000"});function lf(e){if(!it(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Do,Lo=Ae(()=>{er();Do=lf});var qo={};oo(qo,{NIL:()=>Io,parse:()=>Kr,stringify:()=>ot,v1:()=>go,v3:()=>_o,v4:()=>Ao,v5:()=>Co,validate:()=>it,version:()=>Do});var Ro=Ae(()=>{vo();To();Oo();Po();xo();Lo();er();tr();bn()});var Uo=q(je=>{"use strict";var hf=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mf=je&&je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bo=je&&je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&hf(t,e,r);return mf(t,e),t};Object.defineProperty(je,"__esModule",{value:!0});je.prepareKeyValueMessage=je.issueFileCommand=void 0;var ko=Bo(require("fs")),Cn=Bo(require("os")),df=(Ro(),ao(qo)),jo=Ur();function yf(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!ko.existsSync(r))throw new Error(`Missing file at path: ${r}`);ko.appendFileSync(r,`${jo.toCommandValue(t)}${Cn.EOL}`,{encoding:"utf8"})}je.issueFileCommand=yf;function pf(e,t){let r=`ghadelimiter_${df.v4()}`,n=jo.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Cn.EOL}${n}${Cn.EOL}${r}`}je.prepareKeyValueMessage=pf});var $o=q(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.checkBypass=Pt.getProxyUrl=void 0;function gf(e){let t=e.protocol==="https:";if(Mo(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Pt.getProxyUrl=gf;function Mo(e){if(!e.hostname)return!1;let t=e.hostname;if(vf(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let o of r.split(",").map(f=>f.trim().toUpperCase()).filter(f=>f))if(o==="*"||i.some(f=>f===o||f.endsWith(`.${o}`)||o.startsWith(".")&&f.endsWith(`${o}`)))return!0;return!1}Pt.checkBypass=Mo;function vf(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Wo=q(It=>{"use strict";var Kd=require("net"),Ef=require("tls"),Pn=require("http"),Ko=require("https"),wf=require("events"),Vd=require("assert"),Sf=require("util");It.httpOverHttp=_f;It.httpsOverHttp=Tf;It.httpOverHttps=Af;It.httpsOverHttps=Of;function _f(e){var t=new Qe(e);return t.request=Pn.request,t}function Tf(e){var t=new Qe(e);return t.request=Pn.request,t.createSocket=Vo,t.defaultPort=443,t}function Af(e){var t=new Qe(e);return t.request=Ko.request,t}function Of(e){var t=new Qe(e);return t.request=Ko.request,t.createSocket=Vo,t.defaultPort=443,t}function Qe(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Pn.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,o,f){for(var m=Go(i,o,f),g=0,E=t.requests.length;g<E;++g){var d=t.requests[g];if(d.host===m.host&&d.port===m.port){t.requests.splice(g,1),d.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Sf.inherits(Qe,wf.EventEmitter);Qe.prototype.addRequest=function(t,r,n,i){var o=this,f=In({request:t},o.options,Go(r,n,i));if(o.sockets.length>=this.maxSockets){o.requests.push(f);return}o.createSocket(f,function(m){m.on("free",g),m.on("close",E),m.on("agentRemove",E),t.onSocket(m);function g(){o.emit("free",m,f)}function E(d){o.removeSocket(m),m.removeListener("free",g),m.removeListener("close",E),m.removeListener("agentRemove",E)}})};Qe.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var o=In({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),st("making CONNECT request");var f=n.request(o);f.useChunkedEncodingByDefault=!1,f.once("response",m),f.once("upgrade",g),f.once("connect",E),f.once("error",d),f.end();function m(A){A.upgrade=!0}function g(A,b,N){process.nextTick(function(){E(A,b,N)})}function E(A,b,N){if(f.removeAllListeners(),b.removeAllListeners(),A.statusCode!==200){st("tunneling socket could not be established, statusCode=%d",A.statusCode),b.destroy();var k=new Error("tunneling socket could not be established, statusCode="+A.statusCode);k.code="ECONNRESET",t.request.emit("error",k),n.removeSocket(i);return}if(N.length>0){st("got illegal response body from proxy"),b.destroy();var k=new Error("got illegal response body from proxy");k.code="ECONNRESET",t.request.emit("error",k),n.removeSocket(i);return}return st("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=b,r(b)}function d(A){f.removeAllListeners(),st(`tunneling socket could not be established, cause=%s
`,A.message,A.stack);var b=new Error("tunneling socket could not be established, cause="+A.message);b.code="ECONNRESET",t.request.emit("error",b),n.removeSocket(i)}};Qe.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Vo(e,t){var r=this;Qe.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),o=In({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),f=Ef.connect(0,o);r.sockets[r.sockets.indexOf(n)]=f,t(f)})}function Go(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function In(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),o=0,f=i.length;o<f;++o){var m=i[o];n[m]!==void 0&&(e[m]=n[m])}}return e}var st;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?st=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:st=function(){};It.debug=st});var Jo=q((Wd,Yo)=>{Yo.exports=Wo()});var Xo=q(ne=>{"use strict";var Ff=ne&&ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bf=ne&&ne.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hr=ne&&ne.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ff(t,e,r);return bf(t,e),t},ye=ne&&ne.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function m(d){try{E(n.next(d))}catch(A){f(A)}}function g(d){try{E(n.throw(d))}catch(A){f(A)}}function E(d){d.done?o(d.value):i(d.value).then(m,g)}E((n=n.apply(e,t||[])).next())})};Object.defineProperty(ne,"__esModule",{value:!0});ne.HttpClient=ne.isHttps=ne.HttpClientResponse=ne.HttpClientError=ne.getProxyUrl=ne.MediaTypes=ne.Headers=ne.HttpCodes=void 0;var Gr=Hr(require("http")),xn=Hr(require("https")),Ho=Hr($o()),Wr=Hr(Jo()),$e;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})($e=ne.HttpCodes||(ne.HttpCodes={}));var Oe;(function(e){e.Accept="accept",e.ContentType="content-type"})(Oe=ne.Headers||(ne.Headers={}));var at;(function(e){e.ApplicationJson="application/json"})(at=ne.MediaTypes||(ne.MediaTypes={}));function Nf(e){let t=Ho.getProxyUrl(new URL(e));return t?t.href:""}ne.getProxyUrl=Nf;var Cf=[$e.MovedPermanently,$e.ResourceMoved,$e.SeeOther,$e.TemporaryRedirect,$e.PermanentRedirect],Pf=[$e.BadGateway,$e.ServiceUnavailable,$e.GatewayTimeout],If=["OPTIONS","GET","DELETE","HEAD"],xf=10,Df=5,xt=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,xt.prototype)}};ne.HttpClientError=xt;var Jr=class{constructor(t){this.message=t}readBody(){return ye(this,void 0,void 0,function*(){return new Promise(t=>ye(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};ne.HttpClientResponse=Jr;function Lf(e){return new URL(e).protocol==="https:"}ne.isHttps=Lf;var Dn=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return ye(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return ye(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return ye(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return ye(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return ye(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return ye(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return ye(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return ye(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return ye(this,void 0,void 0,function*(){r[Oe.Accept]=this._getExistingOrDefaultHeader(r,Oe.Accept,at.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return ye(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Oe.Accept]=this._getExistingOrDefaultHeader(n,Oe.Accept,at.ApplicationJson),n[Oe.ContentType]=this._getExistingOrDefaultHeader(n,Oe.ContentType,at.ApplicationJson);let o=yield this.post(t,i,n);return this._processResponse(o,this.requestOptions)})}putJson(t,r,n={}){return ye(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Oe.Accept]=this._getExistingOrDefaultHeader(n,Oe.Accept,at.ApplicationJson),n[Oe.ContentType]=this._getExistingOrDefaultHeader(n,Oe.ContentType,at.ApplicationJson);let o=yield this.put(t,i,n);return this._processResponse(o,this.requestOptions)})}patchJson(t,r,n={}){return ye(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Oe.Accept]=this._getExistingOrDefaultHeader(n,Oe.Accept,at.ApplicationJson),n[Oe.ContentType]=this._getExistingOrDefaultHeader(n,Oe.ContentType,at.ApplicationJson);let o=yield this.patch(t,i,n);return this._processResponse(o,this.requestOptions)})}request(t,r,n,i){return ye(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),f=this._prepareRequest(t,o,i),m=this._allowRetries&&If.includes(t)?this._maxRetries+1:1,g=0,E;do{if(E=yield this.requestRaw(f,n),E&&E.message&&E.message.statusCode===$e.Unauthorized){let A;for(let b of this.handlers)if(b.canHandleAuthentication(E)){A=b;break}return A?A.handleAuthentication(this,f,n):E}let d=this._maxRedirects;for(;E.message.statusCode&&Cf.includes(E.message.statusCode)&&this._allowRedirects&&d>0;){let A=E.message.headers.location;if(!A)break;let b=new URL(A);if(o.protocol==="https:"&&o.protocol!==b.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield E.readBody(),b.hostname!==o.hostname)for(let N in i)N.toLowerCase()==="authorization"&&delete i[N];f=this._prepareRequest(t,b,i),E=yield this.requestRaw(f,n),d--}if(!E.message.statusCode||!Pf.includes(E.message.statusCode))return E;g+=1,g<m&&(yield E.readBody(),yield this._performExponentialBackoff(g))}while(g<m);return E})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return ye(this,void 0,void 0,function*(){return new Promise((n,i)=>{function o(f,m){f?i(f):m?n(m):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,o)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function o(g,E){i||(i=!0,n(g,E))}let f=t.httpModule.request(t.options,g=>{let E=new Jr(g);o(void 0,E)}),m;f.on("socket",g=>{m=g}),f.setTimeout(this._socketTimeout||3*6e4,()=>{m&&m.end(),o(new Error(`Request timeout: ${t.options.path}`))}),f.on("error",function(g){o(g)}),r&&typeof r=="string"&&f.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){f.end()}),r.pipe(f)):f.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let o=i.parsedUrl.protocol==="https:";i.httpModule=o?xn:Gr;let f=o?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):f,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let m of this.handlers)m.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Yr(this.requestOptions.headers),Yr(t||{})):Yr(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Yr(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=Ho.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let o=t.protocol==="https:",f=100;if(this.requestOptions&&(f=this.requestOptions.maxSockets||Gr.globalAgent.maxSockets),n&&n.hostname){let m={maxSockets:f,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},g,E=n.protocol==="https:";o?g=E?Wr.httpsOverHttps:Wr.httpsOverHttp:g=E?Wr.httpOverHttps:Wr.httpOverHttp,r=g(m),this._proxyAgent=r}if(this._keepAlive&&!r){let m={keepAlive:this._keepAlive,maxSockets:f};r=o?new xn.Agent(m):new Gr.Agent(m),this._agent=r}return r||(r=o?xn.globalAgent:Gr.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return ye(this,void 0,void 0,function*(){t=Math.min(xf,t);let r=Df*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return ye(this,void 0,void 0,function*(){return new Promise((n,i)=>ye(this,void 0,void 0,function*(){let o=t.message.statusCode||0,f={statusCode:o,result:null,headers:{}};o===$e.NotFound&&n(f);function m(d,A){if(typeof A=="string"){let b=new Date(A);if(!isNaN(b.valueOf()))return b}return A}let g,E;try{E=yield t.readBody(),E&&E.length>0&&(r&&r.deserializeDates?g=JSON.parse(E,m):g=JSON.parse(E),f.result=g),f.headers=t.message.headers}catch{}if(o>299){let d;g&&g.message?d=g.message:E&&E.length>0?d=E:d=`Failed request: (${o})`;let A=new xt(d,o);A.result=f.result,i(A)}else n(f)}))})}};ne.HttpClient=Dn;var Yr=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Qo=q(We=>{"use strict";var kn=We&&We.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function m(d){try{E(n.next(d))}catch(A){f(A)}}function g(d){try{E(n.throw(d))}catch(A){f(A)}}function E(d){d.done?o(d.value):i(d.value).then(m,g)}E((n=n.apply(e,t||[])).next())})};Object.defineProperty(We,"__esModule",{value:!0});We.PersonalAccessTokenCredentialHandler=We.BearerCredentialHandler=We.BasicCredentialHandler=void 0;var Ln=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return kn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};We.BasicCredentialHandler=Ln;var qn=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return kn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};We.BearerCredentialHandler=qn;var Rn=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return kn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};We.PersonalAccessTokenCredentialHandler=Rn});var es=q(Dt=>{"use strict";var zo=Dt&&Dt.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function m(d){try{E(n.next(d))}catch(A){f(A)}}function g(d){try{E(n.throw(d))}catch(A){f(A)}}function E(d){d.done?o(d.value):i(d.value).then(m,g)}E((n=n.apply(e,t||[])).next())})};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.OidcClient=void 0;var qf=Xo(),Rf=Qo(),Zo=Bn(),ut=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new qf.HttpClient("actions/oidc-client",[new Rf.BearerCredentialHandler(ut.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return zo(this,void 0,void 0,function*(){let o=(r=(yield ut.createHttpClient().getJson(t).catch(f=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${f.statusCode}
 
        Error Message: ${f.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return zo(this,void 0,void 0,function*(){try{let r=ut.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}Zo.debug(`ID token url is ${r}`);let n=yield ut.getCall(r);return Zo.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Dt.OidcClient=ut});var $n=q(Ce=>{"use strict";var jn=Ce&&Ce.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function m(d){try{E(n.next(d))}catch(A){f(A)}}function g(d){try{E(n.throw(d))}catch(A){f(A)}}function E(d){d.done?o(d.value):i(d.value).then(m,g)}E((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.summary=Ce.markdownSummary=Ce.SUMMARY_DOCS_URL=Ce.SUMMARY_ENV_VAR=void 0;var kf=require("os"),Un=require("fs"),{access:Bf,appendFile:jf,writeFile:Uf}=Un.promises;Ce.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Ce.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Mn=class{constructor(){this._buffer=""}filePath(){return jn(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[Ce.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${Ce.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Bf(t,Un.constants.R_OK|Un.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([o,f])=>` ${o}="${f}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return jn(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?Uf:jf)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return jn(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(kf.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(f=>this.wrap("li",f)).join(""),o=this.wrap(n,i);return this.addRaw(o).addEOL()}addTable(t){let r=t.map(i=>{let o=i.map(f=>{if(typeof f=="string")return this.wrap("td",f);let{header:m,data:g,colspan:E,rowspan:d}=f,A=m?"th":"td",b=Object.assign(Object.assign({},E&&{colspan:E}),d&&{rowspan:d});return this.wrap(A,g,b)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:o}=n||{},f=Object.assign(Object.assign({},i&&{width:i}),o&&{height:o}),m=this.wrap("img",null,Object.assign({src:t,alt:r},f));return this.addRaw(m).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(i,t);return this.addRaw(o).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},ts=new Mn;Ce.markdownSummary=ts;Ce.summary=ts});var rs=q(Pe=>{"use strict";var Mf=Pe&&Pe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$f=Pe&&Pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kf=Pe&&Pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Mf(t,e,r);return $f(t,e),t};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.toPlatformPath=Pe.toWin32Path=Pe.toPosixPath=void 0;var Vf=Kf(require("path"));function Gf(e){return e.replace(/[\\]/g,"/")}Pe.toPosixPath=Gf;function Wf(e){return e.replace(/[/]/g,"\\")}Pe.toWin32Path=Wf;function Yf(e){return e.replace(/[/\\]/g,Vf.sep)}Pe.toPlatformPath=Yf});var Bn=q(D=>{"use strict";var Jf=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hf=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ns=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Jf(t,e,r);return Hf(t,e),t},is=D&&D.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function m(d){try{E(n.next(d))}catch(A){f(A)}}function g(d){try{E(n.throw(d))}catch(A){f(A)}}function E(d){d.done?o(d.value):i(d.value).then(m,g)}E((n=n.apply(e,t||[])).next())})};Object.defineProperty(D,"__esModule",{value:!0});D.getIDToken=D.getState=D.saveState=D.group=D.endGroup=D.startGroup=D.info=D.notice=D.warning=D.error=D.debug=D.isDebug=D.setFailed=D.setCommandEcho=D.setOutput=D.getBooleanInput=D.getMultilineInput=D.getInput=D.addPath=D.setSecret=D.exportVariable=D.ExitCode=void 0;var Ue=lo(),pt=Uo(),Lt=Ur(),os=ns(require("os")),Xf=ns(require("path")),Qf=es(),ss;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(ss=D.ExitCode||(D.ExitCode={}));function zf(e,t){let r=Lt.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return pt.issueFileCommand("ENV",pt.prepareKeyValueMessage(e,t));Ue.issueCommand("set-env",{name:e},r)}D.exportVariable=zf;function Zf(e){Ue.issueCommand("add-mask",{},e)}D.setSecret=Zf;function el(e){process.env.GITHUB_PATH||""?pt.issueFileCommand("PATH",e):Ue.issueCommand("add-path",{},e),process.env.PATH=`${e}${Xf.delimiter}${process.env.PATH}`}D.addPath=el;function Kn(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}D.getInput=Kn;function tl(e,t){let r=Kn(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}D.getMultilineInput=tl;function rl(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=Kn(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}D.getBooleanInput=rl;function nl(e,t){if(process.env.GITHUB_OUTPUT||"")return pt.issueFileCommand("OUTPUT",pt.prepareKeyValueMessage(e,t));process.stdout.write(os.EOL),Ue.issueCommand("set-output",{name:e},Lt.toCommandValue(t))}D.setOutput=nl;function il(e){Ue.issue("echo",e?"on":"off")}D.setCommandEcho=il;function ol(e){process.exitCode=ss.Failure,as(e)}D.setFailed=ol;function sl(){return process.env.RUNNER_DEBUG==="1"}D.isDebug=sl;function al(e){Ue.issueCommand("debug",{},e)}D.debug=al;function as(e,t={}){Ue.issueCommand("error",Lt.toCommandProperties(t),e instanceof Error?e.toString():e)}D.error=as;function ul(e,t={}){Ue.issueCommand("warning",Lt.toCommandProperties(t),e instanceof Error?e.toString():e)}D.warning=ul;function cl(e,t={}){Ue.issueCommand("notice",Lt.toCommandProperties(t),e instanceof Error?e.toString():e)}D.notice=cl;function fl(e){process.stdout.write(e+os.EOL)}D.info=fl;function us(e){Ue.issue("group",e)}D.startGroup=us;function cs(){Ue.issue("endgroup")}D.endGroup=cs;function ll(e,t){return is(this,void 0,void 0,function*(){us(e);let r;try{r=yield t()}finally{cs()}return r})}D.group=ll;function hl(e,t){if(process.env.GITHUB_STATE||"")return pt.issueFileCommand("STATE",pt.prepareKeyValueMessage(e,t));Ue.issueCommand("save-state",{name:e},Lt.toCommandValue(t))}D.saveState=hl;function ml(e){return process.env[`STATE_${e}`]||""}D.getState=ml;function dl(e){return is(this,void 0,void 0,function*(){return yield Qf.OidcClient.getIDToken(e)})}D.getIDToken=dl;var yl=$n();Object.defineProperty(D,"summary",{enumerable:!0,get:function(){return yl.summary}});var pl=$n();Object.defineProperty(D,"markdownSummary",{enumerable:!0,get:function(){return pl.markdownSummary}});var Vn=rs();Object.defineProperty(D,"toPosixPath",{enumerable:!0,get:function(){return Vn.toPosixPath}});Object.defineProperty(D,"toWin32Path",{enumerable:!0,get:function(){return Vn.toWin32Path}});Object.defineProperty(D,"toPlatformPath",{enumerable:!0,get:function(){return Vn.toPlatformPath}})});var ls=q((Xr,fs)=>{(function(e,t){typeof Xr=="object"&&typeof fs<"u"?t(Xr):typeof define=="function"&&define.amd?define(["exports"],t):t(e.async={})})(Xr,function(e){"use strict";function t(u,...s){return(...c)=>u(...s,...c)}function r(u){return function(...s){var c=s.pop();return u.call(this,s,c)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,o=typeof process=="object"&&typeof process.nextTick=="function";function f(u){setTimeout(u,0)}function m(u){return(s,...c)=>u(()=>s(...c))}var g;n?g=queueMicrotask:i?g=setImmediate:o?g=process.nextTick:g=f;var E=m(g);function d(u){return N(u)?function(...s){let c=s.pop(),h=u.apply(this,s);return A(h,c)}:r(function(s,c){var h;try{h=u.apply(this,s)}catch(v){return c(v)}if(h&&typeof h.then=="function")return A(h,c);c(null,h)})}function A(u,s){return u.then(c=>{b(s,null,c)},c=>{b(s,c&&c.message?c:new Error(c))})}function b(u,s,c){try{u(s,c)}catch(h){E(v=>{throw v},h)}}function N(u){return u[Symbol.toStringTag]==="AsyncFunction"}function k(u){return u[Symbol.toStringTag]==="AsyncGenerator"}function Q(u){return typeof u[Symbol.asyncIterator]=="function"}function C(u){if(typeof u!="function")throw new Error("expected a function");return N(u)?d(u):u}function P(u,s=u.length){if(!s)throw new Error("arity is undefined");function c(...h){return typeof h[s-1]=="function"?u.apply(this,h):new Promise((v,w)=>{h[s-1]=(_,...T)=>{if(_)return w(_);v(T.length>1?T:T[0])},u.apply(this,h)})}return c}function me(u){return function(c,...h){return P(function(w){var _=this;return u(c,(T,F)=>{C(T).apply(_,h.concat(F))},w)})}}function W(u,s,c,h){s=s||[];var v=[],w=0,_=C(c);return u(s,(T,F,x)=>{var J=w++;_(T,(Z,H)=>{v[J]=H,x(Z)})},T=>{h(T,v)})}function Te(u){return u&&typeof u.length=="number"&&u.length>=0&&u.length%1===0}let He={};function le(u){function s(...c){if(u!==null){var h=u;u=null,h.apply(this,c)}}return Object.assign(s,u),s}function Kt(u){return u[Symbol.iterator]&&u[Symbol.iterator]()}function p(u){var s=-1,c=u.length;return function(){return++s<c?{value:u[s],key:s}:null}}function U(u){var s=-1;return function(){var h=u.next();return h.done?null:(s++,{value:h.value,key:s})}}function K(u){var s=u?Object.keys(u):[],c=-1,h=s.length;return function v(){var w=s[++c];return w==="__proto__"?v():c<h?{value:u[w],key:w}:null}}function R(u){if(Te(u))return p(u);var s=Kt(u);return s?U(s):K(u)}function z(u){return function(...s){if(u===null)throw new Error("Callback was already called.");var c=u;u=null,c.apply(this,s)}}function se(u,s,c,h){let v=!1,w=!1,_=!1,T=0,F=0;function x(){T>=s||_||v||(_=!0,u.next().then(({value:H,done:Re})=>{if(!(w||v)){if(_=!1,Re){v=!0,T<=0&&h(null);return}T++,c(H,F,J),F++,x()}}).catch(Z))}function J(H,Re){if(T-=1,!w){if(H)return Z(H);if(H===!1){v=!0,w=!0;return}if(Re===He||v&&T<=0)return v=!0,h(null);x()}}function Z(H){w||(_=!1,v=!0,h(H))}x()}var Y=u=>(s,c,h)=>{if(h=le(h),u<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!s)return h(null);if(k(s))return se(s,u,c,h);if(Q(s))return se(s[Symbol.asyncIterator](),u,c,h);var v=R(s),w=!1,_=!1,T=0,F=!1;function x(Z,H){if(!_)if(T-=1,Z)w=!0,h(Z);else if(Z===!1)w=!0,_=!0;else{if(H===He||w&&T<=0)return w=!0,h(null);F||J()}}function J(){for(F=!0;T<u&&!w;){var Z=v();if(Z===null){w=!0,T<=0&&h(null);return}T+=1,c(Z.value,Z.key,z(x))}F=!1}J()};function ie(u,s,c,h){return Y(s)(u,C(c),h)}var L=P(ie,4);function te(u,s,c){c=le(c);var h=0,v=0,{length:w}=u,_=!1;w===0&&c(null);function T(F,x){F===!1&&(_=!0),_!==!0&&(F?c(F):(++v===w||x===He)&&c(null))}for(;h<w;h++)s(u[h],h,z(T))}function ae(u,s,c){return L(u,1/0,s,c)}function re(u,s,c){var h=Te(u)?te:ae;return h(u,C(s),c)}var fe=P(re,3);function Vt(u,s,c){return W(fe,u,s,c)}var Tt=P(Vt,3),Gt=me(Tt);function mr(u,s,c){return L(u,1,s,c)}var Le=P(mr,3);function l(u,s,c){return W(Le,u,s,c)}var a=P(l,3),O=me(a);let y=Symbol("promiseCallback");function G(){let u,s;function c(h,...v){if(h)return s(h);u(v.length>1?v:v[0])}return c[y]=new Promise((h,v)=>{u=h,s=v}),c}function ue(u,s,c){typeof s!="number"&&(c=s,s=null),c=le(c||G());var h=Object.keys(u).length;if(!h)return c(null);s||(s=h);var v={},w=0,_=!1,T=!1,F=Object.create(null),x=[],J=[],Z={};Object.keys(u).forEach(I=>{var j=u[I];if(!Array.isArray(j)){H(I,[j]),J.push(I);return}var X=j.slice(0,j.length-1),oe=X.length;if(oe===0){H(I,j),J.push(I);return}Z[I]=oe,X.forEach(pe=>{if(!u[pe])throw new Error("async.auto task `"+I+"` has a non-existent dependency `"+pe+"` in "+X.join(", "));bt(pe,()=>{oe--,oe===0&&H(I,j)})})}),ee(),Re();function H(I,j){x.push(()=>Qt(I,j))}function Re(){if(!_){if(x.length===0&&w===0)return c(null,v);for(;x.length&&w<s;){var I=x.shift();I()}}}function bt(I,j){var X=F[I];X||(X=F[I]=[]),X.push(j)}function dt(I){var j=F[I]||[];j.forEach(X=>X()),Re()}function Qt(I,j){if(!T){var X=z((pe,...ke)=>{if(w--,pe===!1){_=!0;return}if(ke.length<2&&([ke]=ke),pe){var Nt={};if(Object.keys(v).forEach(yt=>{Nt[yt]=v[yt]}),Nt[I]=ke,T=!0,F=Object.create(null),_)return;c(pe,Nt)}else v[I]=ke,dt(I)});w++;var oe=C(j[j.length-1]);j.length>1?oe(v,X):oe(X)}}function ee(){for(var I,j=0;J.length;)I=J.pop(),j++,B(I).forEach(X=>{--Z[X]===0&&J.push(X)});if(j!==h)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function B(I){var j=[];return Object.keys(u).forEach(X=>{let oe=u[X];Array.isArray(oe)&&oe.indexOf(I)>=0&&j.push(X)}),j}return c[y]}var he=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,we=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,qe=/,/,tt=/(=.+)?(\s*)$/;function de(u){let s="",c=0,h=u.indexOf("*/");for(;c<u.length;)if(u[c]==="/"&&u[c+1]==="/"){let v=u.indexOf(`
`,c);c=v===-1?u.length:v}else if(h!==-1&&u[c]==="/"&&u[c+1]==="*"){let v=u.indexOf("*/",c);v!==-1?(c=v+2,h=u.indexOf("*/",c)):(s+=u[c],c++)}else s+=u[c],c++;return s}function Me(u){let s=de(u.toString()),c=s.match(he);if(c||(c=s.match(we)),!c)throw new Error(`could not parse args in autoInject
Source:
`+s);let[,h]=c;return h.replace(/\s/g,"").split(qe).map(v=>v.replace(tt,"").trim())}function dr(u,s){var c={};return Object.keys(u).forEach(h=>{var v=u[h],w,_=N(v),T=!_&&v.length===1||_&&v.length===0;if(Array.isArray(v))w=[...v],v=w.pop(),c[h]=w.concat(w.length>0?F:v);else if(T)c[h]=v;else{if(w=Me(v),v.length===0&&!_&&w.length===0)throw new Error("autoInject task functions require explicit parameters.");_||w.pop(),c[h]=w.concat(F)}function F(x,J){var Z=w.map(H=>x[H]);Z.push(J),C(v)(...Z)}}),ue(c,s)}class yr{constructor(){this.head=this.tail=null,this.length=0}removeLink(s){return s.prev?s.prev.next=s.next:this.head=s.next,s.next?s.next.prev=s.prev:this.tail=s.prev,s.prev=s.next=null,this.length-=1,s}empty(){for(;this.head;)this.shift();return this}insertAfter(s,c){c.prev=s,c.next=s.next,s.next?s.next.prev=c:this.tail=c,s.next=c,this.length+=1}insertBefore(s,c){c.prev=s.prev,c.next=s,s.prev?s.prev.next=c:this.head=c,s.prev=c,this.length+=1}unshift(s){this.head?this.insertBefore(this.head,s):At(this,s)}push(s){this.tail?this.insertAfter(this.tail,s):At(this,s)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var s=this.head;s;)yield s.data,s=s.next}remove(s){for(var c=this.head;c;){var{next:h}=c;s(c)&&this.removeLink(c),c=h}return this}}function At(u,s){u.length=1,u.head=u.tail=s}function Ot(u,s,c){if(s==null)s=1;else if(s===0)throw new RangeError("Concurrency must not be zero");var h=C(u),v=0,w=[];let _={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function T(B,I){_[B].push(I)}function F(B,I){let j=(...X)=>{x(B,j),I(...X)};_[B].push(j)}function x(B,I){if(!B)return Object.keys(_).forEach(j=>_[j]=[]);if(!I)return _[B]=[];_[B]=_[B].filter(j=>j!==I)}function J(B,...I){_[B].forEach(j=>j(...I))}var Z=!1;function H(B,I,j,X){if(X!=null&&typeof X!="function")throw new Error("task callback must be a function");ee.started=!0;var oe,pe;function ke(yt,...zt){if(yt)return j?pe(yt):oe();if(zt.length<=1)return oe(zt[0]);oe(zt)}var Nt=ee._createTaskItem(B,j?ke:X||ke);if(I?ee._tasks.unshift(Nt):ee._tasks.push(Nt),Z||(Z=!0,E(()=>{Z=!1,ee.process()})),j||!X)return new Promise((yt,zt)=>{oe=yt,pe=zt})}function Re(B){return function(I,...j){v-=1;for(var X=0,oe=B.length;X<oe;X++){var pe=B[X],ke=w.indexOf(pe);ke===0?w.shift():ke>0&&w.splice(ke,1),pe.callback(I,...j),I!=null&&J("error",I,pe.data)}v<=ee.concurrency-ee.buffer&&J("unsaturated"),ee.idle()&&J("drain"),ee.process()}}function bt(B){return B.length===0&&ee.idle()?(E(()=>J("drain")),!0):!1}let dt=B=>I=>{if(!I)return new Promise((j,X)=>{F(B,(oe,pe)=>{if(oe)return X(oe);j(pe)})});x(B),T(B,I)};var Qt=!1,ee={_tasks:new yr,_createTaskItem(B,I){return{data:B,callback:I}},*[Symbol.iterator](){yield*ee._tasks[Symbol.iterator]()},concurrency:s,payload:c,buffer:s/4,started:!1,paused:!1,push(B,I){return Array.isArray(B)?bt(B)?void 0:B.map(j=>H(j,!1,!1,I)):H(B,!1,!1,I)},pushAsync(B,I){return Array.isArray(B)?bt(B)?void 0:B.map(j=>H(j,!1,!0,I)):H(B,!1,!0,I)},kill(){x(),ee._tasks.empty()},unshift(B,I){return Array.isArray(B)?bt(B)?void 0:B.map(j=>H(j,!0,!1,I)):H(B,!0,!1,I)},unshiftAsync(B,I){return Array.isArray(B)?bt(B)?void 0:B.map(j=>H(j,!0,!0,I)):H(B,!0,!0,I)},remove(B){ee._tasks.remove(B)},process(){if(!Qt){for(Qt=!0;!ee.paused&&v<ee.concurrency&&ee._tasks.length;){var B=[],I=[],j=ee._tasks.length;ee.payload&&(j=Math.min(j,ee.payload));for(var X=0;X<j;X++){var oe=ee._tasks.shift();B.push(oe),w.push(oe),I.push(oe.data)}v+=1,ee._tasks.length===0&&J("empty"),v===ee.concurrency&&J("saturated");var pe=z(Re(B));h(I,pe)}Qt=!1}},length(){return ee._tasks.length},running(){return v},workersList(){return w},idle(){return ee._tasks.length+v===0},pause(){ee.paused=!0},resume(){ee.paused!==!1&&(ee.paused=!1,E(ee.process))}};return Object.defineProperties(ee,{saturated:{writable:!1,value:dt("saturated")},unsaturated:{writable:!1,value:dt("unsaturated")},empty:{writable:!1,value:dt("empty")},drain:{writable:!1,value:dt("drain")},error:{writable:!1,value:dt("error")}}),ee}function Si(u,s){return Ot(u,1,s)}function _i(u,s,c){return Ot(u,s,c)}function Zu(u,s,c,h){h=le(h);var v=C(c);return Le(u,(w,_,T)=>{v(s,w,(F,x)=>{s=x,T(F)})},w=>h(w,s))}var rt=P(Zu,4);function yn(...u){var s=u.map(C);return function(...c){var h=this,v=c[c.length-1];return typeof v=="function"?c.pop():v=G(),rt(s,c,(w,_,T)=>{_.apply(h,w.concat((F,...x)=>{T(F,x)}))},(w,_)=>v(w,..._)),v[y]}}function Ti(...u){return yn(...u.reverse())}function ec(u,s,c,h){return W(Y(s),u,c,h)}var Wt=P(ec,4);function tc(u,s,c,h){var v=C(c);return Wt(u,s,(w,_)=>{v(w,(T,...F)=>T?_(T):_(T,F))},(w,_)=>{for(var T=[],F=0;F<_.length;F++)_[F]&&(T=T.concat(..._[F]));return h(w,T)})}var Ft=P(tc,4);function rc(u,s,c){return Ft(u,1/0,s,c)}var pr=P(rc,3);function nc(u,s,c){return Ft(u,1,s,c)}var gr=P(nc,3);function Ai(...u){return function(...s){var c=s.pop();return c(null,...u)}}function Xe(u,s){return(c,h,v,w)=>{var _=!1,T;let F=C(v);c(h,(x,J,Z)=>{F(x,(H,Re)=>{if(H||H===!1)return Z(H);if(u(Re)&&!T)return _=!0,T=s(!0,x),Z(null,He);Z()})},x=>{if(x)return w(x);w(null,_?T:s(!1))})}}function ic(u,s,c){return Xe(h=>h,(h,v)=>v)(fe,u,s,c)}var vr=P(ic,3);function oc(u,s,c,h){return Xe(v=>v,(v,w)=>w)(Y(s),u,c,h)}var Er=P(oc,4);function sc(u,s,c){return Xe(h=>h,(h,v)=>v)(Y(1),u,s,c)}var wr=P(sc,3);function Oi(u){return(s,...c)=>C(s)(...c,(h,...v)=>{typeof console=="object"&&(h?console.error&&console.error(h):console[u]&&v.forEach(w=>console[u](w)))})}var Fi=Oi("dir");function ac(u,s,c){c=z(c);var h=C(u),v=C(s),w;function _(F,...x){if(F)return c(F);F!==!1&&(w=x,v(...x,T))}function T(F,x){if(F)return c(F);if(F!==!1){if(!x)return c(null,...w);h(_)}}return T(null,!0)}var Yt=P(ac,3);function bi(u,s,c){let h=C(s);return Yt(u,(...v)=>{let w=v.pop();h(...v,(_,T)=>w(_,!T))},c)}function Ni(u){return(s,c,h)=>u(s,h)}function uc(u,s,c){return fe(u,Ni(C(s)),c)}var Sr=P(uc,3);function cc(u,s,c,h){return Y(s)(u,Ni(C(c)),h)}var Jt=P(cc,4);function fc(u,s,c){return Jt(u,1,s,c)}var Ht=P(fc,3);function pn(u){return N(u)?u:function(...s){var c=s.pop(),h=!0;s.push((...v)=>{h?E(()=>c(...v)):c(...v)}),u.apply(this,s),h=!1}}function lc(u,s,c){return Xe(h=>!h,h=>!h)(fe,u,s,c)}var _r=P(lc,3);function hc(u,s,c,h){return Xe(v=>!v,v=>!v)(Y(s),u,c,h)}var Tr=P(hc,4);function mc(u,s,c){return Xe(h=>!h,h=>!h)(Le,u,s,c)}var Ar=P(mc,3);function dc(u,s,c,h){var v=new Array(s.length);u(s,(w,_,T)=>{c(w,(F,x)=>{v[_]=!!x,T(F)})},w=>{if(w)return h(w);for(var _=[],T=0;T<s.length;T++)v[T]&&_.push(s[T]);h(null,_)})}function yc(u,s,c,h){var v=[];u(s,(w,_,T)=>{c(w,(F,x)=>{if(F)return T(F);x&&v.push({index:_,value:w}),T(F)})},w=>{if(w)return h(w);h(null,v.sort((_,T)=>_.index-T.index).map(_=>_.value))})}function Or(u,s,c,h){var v=Te(s)?dc:yc;return v(u,s,C(c),h)}function pc(u,s,c){return Or(fe,u,s,c)}var Fr=P(pc,3);function gc(u,s,c,h){return Or(Y(s),u,c,h)}var br=P(gc,4);function vc(u,s,c){return Or(Le,u,s,c)}var Nr=P(vc,3);function Ec(u,s){var c=z(s),h=C(pn(u));function v(w){if(w)return c(w);w!==!1&&h(v)}return v()}var Ci=P(Ec,2);function wc(u,s,c,h){var v=C(c);return Wt(u,s,(w,_)=>{v(w,(T,F)=>T?_(T):_(T,{key:F,val:w}))},(w,_)=>{for(var T={},{hasOwnProperty:F}=Object.prototype,x=0;x<_.length;x++)if(_[x]){var{key:J}=_[x],{val:Z}=_[x];F.call(T,J)?T[J].push(Z):T[J]=[Z]}return h(w,T)})}var Cr=P(wc,4);function Pi(u,s,c){return Cr(u,1/0,s,c)}function Ii(u,s,c){return Cr(u,1,s,c)}var xi=Oi("log");function Sc(u,s,c,h){h=le(h);var v={},w=C(c);return Y(s)(u,(_,T,F)=>{w(_,T,(x,J)=>{if(x)return F(x);v[T]=J,F(x)})},_=>h(_,v))}var Pr=P(Sc,4);function Di(u,s,c){return Pr(u,1/0,s,c)}function Li(u,s,c){return Pr(u,1,s,c)}function qi(u,s=c=>c){var c=Object.create(null),h=Object.create(null),v=C(u),w=r((_,T)=>{var F=s(..._);F in c?E(()=>T(null,...c[F])):F in h?h[F].push(T):(h[F]=[T],v(..._,(x,...J)=>{x||(c[F]=J);var Z=h[F];delete h[F];for(var H=0,Re=Z.length;H<Re;H++)Z[H](x,...J)}))});return w.memo=c,w.unmemoized=u,w}var Ir;o?Ir=process.nextTick:i?Ir=setImmediate:Ir=f;var Ri=m(Ir),gn=P((u,s,c)=>{var h=Te(s)?[]:{};u(s,(v,w,_)=>{C(v)((T,...F)=>{F.length<2&&([F]=F),h[w]=F,_(T)})},v=>c(v,h))},3);function ki(u,s){return gn(fe,u,s)}function Bi(u,s,c){return gn(Y(s),u,c)}function vn(u,s){var c=C(u);return Ot((h,v)=>{c(h[0],v)},s,1)}class _c{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(s){let c;for(;s>0&&En(this.heap[s],this.heap[c=ji(s)]);){let h=this.heap[s];this.heap[s]=this.heap[c],this.heap[c]=h,s=c}}percDown(s){let c;for(;(c=Tc(s))<this.heap.length&&(c+1<this.heap.length&&En(this.heap[c+1],this.heap[c])&&(c=c+1),!En(this.heap[s],this.heap[c]));){let h=this.heap[s];this.heap[s]=this.heap[c],this.heap[c]=h,s=c}}push(s){s.pushCount=++this.pushCount,this.heap.push(s),this.percUp(this.heap.length-1)}unshift(s){return this.heap.push(s)}shift(){let[s]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),s}toArray(){return[...this]}*[Symbol.iterator](){for(let s=0;s<this.heap.length;s++)yield this.heap[s].data}remove(s){let c=0;for(let h=0;h<this.heap.length;h++)s(this.heap[h])||(this.heap[c]=this.heap[h],c++);this.heap.splice(c);for(let h=ji(this.heap.length-1);h>=0;h--)this.percDown(h);return this}}function Tc(u){return(u<<1)+1}function ji(u){return(u+1>>1)-1}function En(u,s){return u.priority!==s.priority?u.priority<s.priority:u.pushCount<s.pushCount}function Ui(u,s){var c=vn(u,s),{push:h,pushAsync:v}=c;c._tasks=new _c,c._createTaskItem=({data:_,priority:T},F)=>({data:_,priority:T,callback:F});function w(_,T){return Array.isArray(_)?_.map(F=>({data:F,priority:T})):{data:_,priority:T}}return c.push=function(_,T=0,F){return h(w(_,T),F)},c.pushAsync=function(_,T=0,F){return v(w(_,T),F)},delete c.unshift,delete c.unshiftAsync,c}function Ac(u,s){if(s=le(s),!Array.isArray(u))return s(new TypeError("First argument to race must be an array of functions"));if(!u.length)return s();for(var c=0,h=u.length;c<h;c++)C(u[c])(s)}var Mi=P(Ac,2);function xr(u,s,c,h){var v=[...u].reverse();return rt(v,s,c,h)}function Dr(u){var s=C(u);return r(function(h,v){return h.push((w,..._)=>{let T={};if(w&&(T.error=w),_.length>0){var F=_;_.length<=1&&([F]=_),T.value=F}v(null,T)}),s.apply(this,h)})}function $i(u){var s;return Array.isArray(u)?s=u.map(Dr):(s={},Object.keys(u).forEach(c=>{s[c]=Dr.call(this,u[c])})),s}function wn(u,s,c,h){let v=C(c);return Or(u,s,(w,_)=>{v(w,(T,F)=>{_(T,!F)})},h)}function Oc(u,s,c){return wn(fe,u,s,c)}var Ki=P(Oc,3);function Fc(u,s,c,h){return wn(Y(s),u,c,h)}var Vi=P(Fc,4);function bc(u,s,c){return wn(Le,u,s,c)}var Gi=P(bc,3);function Wi(u){return function(){return u}}let Sn=5,Yi=0;function Lr(u,s,c){var h={times:Sn,intervalFunc:Wi(Yi)};if(arguments.length<3&&typeof u=="function"?(c=s||G(),s=u):(Nc(h,u),c=c||G()),typeof s!="function")throw new Error("Invalid arguments for async.retry");var v=C(s),w=1;function _(){v((T,...F)=>{T!==!1&&(T&&w++<h.times&&(typeof h.errorFilter!="function"||h.errorFilter(T))?setTimeout(_,h.intervalFunc(w-1)):c(T,...F))})}return _(),c[y]}function Nc(u,s){if(typeof s=="object")u.times=+s.times||Sn,u.intervalFunc=typeof s.interval=="function"?s.interval:Wi(+s.interval||Yi),u.errorFilter=s.errorFilter;else if(typeof s=="number"||typeof s=="string")u.times=+s||Sn;else throw new Error("Invalid arguments for async.retry")}function Ji(u,s){s||(s=u,u=null);let c=u&&u.arity||s.length;N(s)&&(c+=1);var h=C(s);return r((v,w)=>{(v.length<c-1||w==null)&&(v.push(w),w=G());function _(T){h(...v,T)}return u?Lr(u,_,w):Lr(_,w),w[y]})}function Hi(u,s){return gn(Le,u,s)}function Cc(u,s,c){return Xe(Boolean,h=>h)(fe,u,s,c)}var qr=P(Cc,3);function Pc(u,s,c,h){return Xe(Boolean,v=>v)(Y(s),u,c,h)}var Rr=P(Pc,4);function Ic(u,s,c){return Xe(Boolean,h=>h)(Le,u,s,c)}var kr=P(Ic,3);function xc(u,s,c){var h=C(s);return Tt(u,(w,_)=>{h(w,(T,F)=>{if(T)return _(T);_(T,{value:w,criteria:F})})},(w,_)=>{if(w)return c(w);c(null,_.sort(v).map(T=>T.value))});function v(w,_){var T=w.criteria,F=_.criteria;return T<F?-1:T>F?1:0}}var Xi=P(xc,3);function Qi(u,s,c){var h=C(u);return r((v,w)=>{var _=!1,T;function F(){var x=u.name||"anonymous",J=new Error('Callback function "'+x+'" timed out.');J.code="ETIMEDOUT",c&&(J.info=c),_=!0,w(J)}v.push((...x)=>{_||(w(...x),clearTimeout(T))}),T=setTimeout(F,s),h(...v)})}function Dc(u){for(var s=Array(u);u--;)s[u]=u;return s}function Br(u,s,c,h){var v=C(c);return Wt(Dc(u),s,v,h)}function zi(u,s,c){return Br(u,1/0,s,c)}function Zi(u,s,c){return Br(u,1,s,c)}function eo(u,s,c,h){arguments.length<=3&&typeof s=="function"&&(h=c,c=s,s=Array.isArray(u)?[]:{}),h=le(h||G());var v=C(c);return fe(u,(w,_,T)=>{v(s,w,_,T)},w=>h(w,s)),h[y]}function Lc(u,s){var c=null,h;return Ht(u,(v,w)=>{C(v)((_,...T)=>{if(_===!1)return w(_);T.length<2?[h]=T:h=T,c=_,w(_?null:{})})},()=>s(c,h))}var to=P(Lc);function ro(u){return(...s)=>(u.unmemoized||u)(...s)}function qc(u,s,c){c=z(c);var h=C(s),v=C(u),w=[];function _(F,...x){if(F)return c(F);w=x,F!==!1&&v(T)}function T(F,x){if(F)return c(F);if(F!==!1){if(!x)return c(null,...w);h(_)}}return v(T)}var Xt=P(qc,3);function no(u,s,c){let h=C(u);return Xt(v=>h((w,_)=>v(w,!_)),s,c)}function Rc(u,s){if(s=le(s),!Array.isArray(u))return s(new Error("First argument to waterfall must be an array of functions"));if(!u.length)return s();var c=0;function h(w){var _=C(u[c++]);_(...w,z(v))}function v(w,..._){if(w!==!1){if(w||c===u.length)return s(w,..._);h(_)}}h([])}var io=P(Rc),kc={apply:t,applyEach:Gt,applyEachSeries:O,asyncify:d,auto:ue,autoInject:dr,cargo:Si,cargoQueue:_i,compose:Ti,concat:pr,concatLimit:Ft,concatSeries:gr,constant:Ai,detect:vr,detectLimit:Er,detectSeries:wr,dir:Fi,doUntil:bi,doWhilst:Yt,each:Sr,eachLimit:Jt,eachOf:fe,eachOfLimit:L,eachOfSeries:Le,eachSeries:Ht,ensureAsync:pn,every:_r,everyLimit:Tr,everySeries:Ar,filter:Fr,filterLimit:br,filterSeries:Nr,forever:Ci,groupBy:Pi,groupByLimit:Cr,groupBySeries:Ii,log:xi,map:Tt,mapLimit:Wt,mapSeries:a,mapValues:Di,mapValuesLimit:Pr,mapValuesSeries:Li,memoize:qi,nextTick:Ri,parallel:ki,parallelLimit:Bi,priorityQueue:Ui,queue:vn,race:Mi,reduce:rt,reduceRight:xr,reflect:Dr,reflectAll:$i,reject:Ki,rejectLimit:Vi,rejectSeries:Gi,retry:Lr,retryable:Ji,seq:yn,series:Hi,setImmediate:E,some:qr,someLimit:Rr,someSeries:kr,sortBy:Xi,timeout:Qi,times:zi,timesLimit:Br,timesSeries:Zi,transform:eo,tryEach:to,unmemoize:ro,until:no,waterfall:io,whilst:Xt,all:_r,allLimit:Tr,allSeries:Ar,any:qr,anyLimit:Rr,anySeries:kr,find:vr,findLimit:Er,findSeries:wr,flatMap:pr,flatMapLimit:Ft,flatMapSeries:gr,forEach:Sr,forEachSeries:Ht,forEachLimit:Jt,forEachOf:fe,forEachOfSeries:Le,forEachOfLimit:L,inject:rt,foldl:rt,foldr:xr,select:Fr,selectLimit:br,selectSeries:Nr,wrapSync:d,during:Xt,doDuring:Yt};e.default=kc,e.apply=t,e.applyEach=Gt,e.applyEachSeries=O,e.asyncify=d,e.auto=ue,e.autoInject=dr,e.cargo=Si,e.cargoQueue=_i,e.compose=Ti,e.concat=pr,e.concatLimit=Ft,e.concatSeries=gr,e.constant=Ai,e.detect=vr,e.detectLimit=Er,e.detectSeries=wr,e.dir=Fi,e.doUntil=bi,e.doWhilst=Yt,e.each=Sr,e.eachLimit=Jt,e.eachOf=fe,e.eachOfLimit=L,e.eachOfSeries=Le,e.eachSeries=Ht,e.ensureAsync=pn,e.every=_r,e.everyLimit=Tr,e.everySeries=Ar,e.filter=Fr,e.filterLimit=br,e.filterSeries=Nr,e.forever=Ci,e.groupBy=Pi,e.groupByLimit=Cr,e.groupBySeries=Ii,e.log=xi,e.map=Tt,e.mapLimit=Wt,e.mapSeries=a,e.mapValues=Di,e.mapValuesLimit=Pr,e.mapValuesSeries=Li,e.memoize=qi,e.nextTick=Ri,e.parallel=ki,e.parallelLimit=Bi,e.priorityQueue=Ui,e.queue=vn,e.race=Mi,e.reduce=rt,e.reduceRight=xr,e.reflect=Dr,e.reflectAll=$i,e.reject=Ki,e.rejectLimit=Vi,e.rejectSeries=Gi,e.retry=Lr,e.retryable=Ji,e.seq=yn,e.series=Hi,e.setImmediate=E,e.some=qr,e.someLimit=Rr,e.someSeries=kr,e.sortBy=Xi,e.timeout=Qi,e.times=zi,e.timesLimit=Br,e.timesSeries=Zi,e.transform=eo,e.tryEach=to,e.unmemoize=ro,e.until=no,e.waterfall=io,e.whilst=Xt,e.all=_r,e.allLimit=Tr,e.allSeries=Ar,e.any=qr,e.anyLimit=Rr,e.anySeries=kr,e.find=vr,e.findLimit=Er,e.findSeries=wr,e.flatMap=pr,e.flatMapLimit=Ft,e.flatMapSeries=gr,e.forEach=Sr,e.forEachSeries=Ht,e.forEachLimit=Jt,e.forEachOf=fe,e.forEachOfSeries=Le,e.forEachOfLimit=L,e.inject=rt,e.foldl=rt,e.foldr=xr,e.select=Fr,e.selectLimit=br,e.selectSeries=Nr,e.wrapSync=d,e.during=Xt,e.doDuring=Yt,Object.defineProperty(e,"__esModule",{value:!0})})});var Ie=q(Gn=>{"use strict";Gn.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{e.call(this,...t,(i,o)=>i!=null?n(i):r(o))})},"name",{value:e.name})};Gn.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:e.name})}});var ms=q((ey,hs)=>{var ct=require("constants"),gl=process.cwd,Qr=null,vl=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Qr||(Qr=gl.call(process)),Qr};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Wn=process.chdir,process.chdir=function(e){Qr=null,Wn.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Wn));var Wn;hs.exports=El;function El(e){ct.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=f(e.chownSync),e.fchownSync=f(e.fchownSync),e.lchownSync=f(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=m(e.stat),e.fstat=m(e.fstat),e.lstat=m(e.lstat),e.statSync=g(e.statSync),e.fstatSync=g(e.fstatSync),e.lstatSync=g(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(d,A,b){b&&process.nextTick(b)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(d,A,b,N){N&&process.nextTick(N)},e.lchownSync=function(){}),vl==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(d){function A(b,N,k){var Q=Date.now(),C=0;d(b,N,function P(me){if(me&&(me.code==="EACCES"||me.code==="EPERM"||me.code==="EBUSY")&&Date.now()-Q<6e4){setTimeout(function(){e.stat(N,function(W,Te){W&&W.code==="ENOENT"?d(b,N,P):k(me)})},C),C<100&&(C+=10);return}k&&k(me)})}return Object.setPrototypeOf&&Object.setPrototypeOf(A,d),A}(e.rename)),e.read=typeof e.read!="function"?e.read:function(d){function A(b,N,k,Q,C,P){var me;if(P&&typeof P=="function"){var W=0;me=function(Te,He,le){if(Te&&Te.code==="EAGAIN"&&W<10)return W++,d.call(e,b,N,k,Q,C,me);P.apply(this,arguments)}}return d.call(e,b,N,k,Q,C,me)}return Object.setPrototypeOf&&Object.setPrototypeOf(A,d),A}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(d){return function(A,b,N,k,Q){for(var C=0;;)try{return d.call(e,A,b,N,k,Q)}catch(P){if(P.code==="EAGAIN"&&C<10){C++;continue}throw P}}}(e.readSync);function t(d){d.lchmod=function(A,b,N){d.open(A,ct.O_WRONLY|ct.O_SYMLINK,b,function(k,Q){if(k){N&&N(k);return}d.fchmod(Q,b,function(C){d.close(Q,function(P){N&&N(C||P)})})})},d.lchmodSync=function(A,b){var N=d.openSync(A,ct.O_WRONLY|ct.O_SYMLINK,b),k=!0,Q;try{Q=d.fchmodSync(N,b),k=!1}finally{if(k)try{d.closeSync(N)}catch{}else d.closeSync(N)}return Q}}function r(d){ct.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(A,b,N,k){d.open(A,ct.O_SYMLINK,function(Q,C){if(Q){k&&k(Q);return}d.futimes(C,b,N,function(P){d.close(C,function(me){k&&k(P||me)})})})},d.lutimesSync=function(A,b,N){var k=d.openSync(A,ct.O_SYMLINK),Q,C=!0;try{Q=d.futimesSync(k,b,N),C=!1}finally{if(C)try{d.closeSync(k)}catch{}else d.closeSync(k)}return Q}):d.futimes&&(d.lutimes=function(A,b,N,k){k&&process.nextTick(k)},d.lutimesSync=function(){})}function n(d){return d&&function(A,b,N){return d.call(e,A,b,function(k){E(k)&&(k=null),N&&N.apply(this,arguments)})}}function i(d){return d&&function(A,b){try{return d.call(e,A,b)}catch(N){if(!E(N))throw N}}}function o(d){return d&&function(A,b,N,k){return d.call(e,A,b,N,function(Q){E(Q)&&(Q=null),k&&k.apply(this,arguments)})}}function f(d){return d&&function(A,b,N){try{return d.call(e,A,b,N)}catch(k){if(!E(k))throw k}}}function m(d){return d&&function(A,b,N){typeof b=="function"&&(N=b,b=null);function k(Q,C){C&&(C.uid<0&&(C.uid+=4294967296),C.gid<0&&(C.gid+=4294967296)),N&&N.apply(this,arguments)}return b?d.call(e,A,b,k):d.call(e,A,k)}}function g(d){return d&&function(A,b){var N=b?d.call(e,A,b):d.call(e,A);return N&&(N.uid<0&&(N.uid+=4294967296),N.gid<0&&(N.gid+=4294967296)),N}}function E(d){if(!d||d.code==="ENOSYS")return!0;var A=!process.getuid||process.getuid()!==0;return!!(A&&(d.code==="EINVAL"||d.code==="EPERM"))}}});var ps=q((ty,ys)=>{var ds=require("stream").Stream;ys.exports=wl;function wl(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);ds.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var f=Object.keys(i),m=0,g=f.length;m<g;m++){var E=f[m];this[E]=i[E]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(d,A){if(d){o.emit("error",d),o.readable=!1;return}o.fd=A,o.emit("open",A),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);ds.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),f=0,m=o.length;f<m;f++){var g=o[f];this[g]=i[g]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var vs=q((ry,gs)=>{"use strict";gs.exports=_l;var Sl=Object.getPrototypeOf||function(e){return e.__proto__};function _l(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Sl(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var xe=q((ny,Hn)=>{var ce=require("fs"),Tl=ms(),Al=ps(),Ol=vs(),zr=require("util"),Ee,en;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Ee=Symbol.for("graceful-fs.queue"),en=Symbol.for("graceful-fs.previous")):(Ee="___graceful-fs.queue",en="___graceful-fs.previous");function Fl(){}function Ss(e,t){Object.defineProperty(e,Ee,{get:function(){return t}})}var gt=Fl;zr.debuglog?gt=zr.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(gt=function(){var e=zr.format.apply(zr,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});ce[Ee]||(Es=global[Ee]||[],Ss(ce,Es),ce.close=function(e){function t(r,n){return e.call(ce,r,function(i){i||ws(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,en,{value:e}),t}(ce.close),ce.closeSync=function(e){function t(r){e.apply(ce,arguments),ws()}return Object.defineProperty(t,en,{value:e}),t}(ce.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){gt(ce[Ee]),require("assert").equal(ce[Ee].length,0)}));var Es;global[Ee]||Ss(global,ce[Ee]);Hn.exports=Yn(Ol(ce));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ce.__patched&&(Hn.exports=Yn(ce),ce.__patched=!0);function Yn(e){Tl(e),e.gracefulify=Yn,e.createReadStream=He,e.createWriteStream=le;var t=e.readFile;e.readFile=r;function r(U,K,R){return typeof K=="function"&&(R=K,K=null),z(U,K,R);function z(se,Y,ie,L){return t(se,Y,function(te){te&&(te.code==="EMFILE"||te.code==="ENFILE")?qt([z,[se,Y,ie],te,L||Date.now(),Date.now()]):typeof ie=="function"&&ie.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(U,K,R,z){return typeof R=="function"&&(z=R,R=null),se(U,K,R,z);function se(Y,ie,L,te,ae){return n(Y,ie,L,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?qt([se,[Y,ie,L,te],re,ae||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=f);function f(U,K,R,z){return typeof R=="function"&&(z=R,R=null),se(U,K,R,z);function se(Y,ie,L,te,ae){return o(Y,ie,L,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?qt([se,[Y,ie,L,te],re,ae||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var m=e.copyFile;m&&(e.copyFile=g);function g(U,K,R,z){return typeof R=="function"&&(z=R,R=0),se(U,K,R,z);function se(Y,ie,L,te,ae){return m(Y,ie,L,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?qt([se,[Y,ie,L,te],re,ae||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}var E=e.readdir;e.readdir=A;var d=/^v[0-5]\./;function A(U,K,R){typeof K=="function"&&(R=K,K=null);var z=d.test(process.version)?function(ie,L,te,ae){return E(ie,se(ie,L,te,ae))}:function(ie,L,te,ae){return E(ie,L,se(ie,L,te,ae))};return z(U,K,R);function se(Y,ie,L,te){return function(ae,re){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?qt([z,[Y,ie,L],ae,te||Date.now(),Date.now()]):(re&&re.sort&&re.sort(),typeof L=="function"&&L.call(this,ae,re))}}}if(process.version.substr(0,4)==="v0.8"){var b=Al(e);P=b.ReadStream,W=b.WriteStream}var N=e.ReadStream;N&&(P.prototype=Object.create(N.prototype),P.prototype.open=me);var k=e.WriteStream;k&&(W.prototype=Object.create(k.prototype),W.prototype.open=Te),Object.defineProperty(e,"ReadStream",{get:function(){return P},set:function(U){P=U},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return W},set:function(U){W=U},enumerable:!0,configurable:!0});var Q=P;Object.defineProperty(e,"FileReadStream",{get:function(){return Q},set:function(U){Q=U},enumerable:!0,configurable:!0});var C=W;Object.defineProperty(e,"FileWriteStream",{get:function(){return C},set:function(U){C=U},enumerable:!0,configurable:!0});function P(U,K){return this instanceof P?(N.apply(this,arguments),this):P.apply(Object.create(P.prototype),arguments)}function me(){var U=this;p(U.path,U.flags,U.mode,function(K,R){K?(U.autoClose&&U.destroy(),U.emit("error",K)):(U.fd=R,U.emit("open",R),U.read())})}function W(U,K){return this instanceof W?(k.apply(this,arguments),this):W.apply(Object.create(W.prototype),arguments)}function Te(){var U=this;p(U.path,U.flags,U.mode,function(K,R){K?(U.destroy(),U.emit("error",K)):(U.fd=R,U.emit("open",R))})}function He(U,K){return new e.ReadStream(U,K)}function le(U,K){return new e.WriteStream(U,K)}var Kt=e.open;e.open=p;function p(U,K,R,z){return typeof R=="function"&&(z=R,R=null),se(U,K,R,z);function se(Y,ie,L,te,ae){return Kt(Y,ie,L,function(re,fe){re&&(re.code==="EMFILE"||re.code==="ENFILE")?qt([se,[Y,ie,L,te],re,ae||Date.now(),Date.now()]):typeof te=="function"&&te.apply(this,arguments)})}}return e}function qt(e){gt("ENQUEUE",e[0].name,e[1]),ce[Ee].push(e),Jn()}var Zr;function ws(){for(var e=Date.now(),t=0;t<ce[Ee].length;++t)ce[Ee][t].length>2&&(ce[Ee][t][3]=e,ce[Ee][t][4]=e);Jn()}function Jn(){if(clearTimeout(Zr),Zr=void 0,ce[Ee].length!==0){var e=ce[Ee].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)gt("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){gt("TIMEOUT",t.name,r);var f=r.pop();typeof f=="function"&&f.call(null,n)}else{var m=Date.now()-o,g=Math.max(o-i,1),E=Math.min(g*1.2,100);m>=E?(gt("RETRY",t.name,r),t.apply(null,r.concat([i]))):ce[Ee].push(e)}Zr===void 0&&(Zr=setTimeout(Jn,0))}}});var vt=q(ze=>{"use strict";var _s=Ie().fromCallback,Fe=xe(),bl=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Fe[e]=="function");Object.assign(ze,Fe);bl.forEach(e=>{ze[e]=_s(Fe[e])});ze.exists=function(e,t){return typeof t=="function"?Fe.exists(e,t):new Promise(r=>Fe.exists(e,r))};ze.read=function(e,t,r,n,i,o){return typeof o=="function"?Fe.read(e,t,r,n,i,o):new Promise((f,m)=>{Fe.read(e,t,r,n,i,(g,E,d)=>{if(g)return m(g);f({bytesRead:E,buffer:d})})})};ze.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.write(e,t,...r):new Promise((n,i)=>{Fe.write(e,t,...r,(o,f,m)=>{if(o)return i(o);n({bytesWritten:f,buffer:m})})})};ze.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.readv(e,t,...r):new Promise((n,i)=>{Fe.readv(e,t,...r,(o,f,m)=>{if(o)return i(o);n({bytesRead:f,buffers:m})})})};ze.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.writev(e,t,...r):new Promise((n,i)=>{Fe.writev(e,t,...r,(o,f,m)=>{if(o)return i(o);n({bytesWritten:f,buffers:m})})})};typeof Fe.realpath.native=="function"?ze.realpath.native=_s(Fe.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var As=q((oy,Ts)=>{"use strict";var Nl=require("path");Ts.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Nl.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var Ns=q((sy,Xn)=>{"use strict";var Os=vt(),{checkPath:Fs}=As(),bs=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Xn.exports.makeDir=async(e,t)=>(Fs(e),Os.mkdir(e,{mode:bs(t),recursive:!0}));Xn.exports.makeDirSync=(e,t)=>(Fs(e),Os.mkdirSync(e,{mode:bs(t),recursive:!0}))});var Ke=q((ay,Cs)=>{"use strict";var Cl=Ie().fromPromise,{makeDir:Pl,makeDirSync:Qn}=Ns(),zn=Cl(Pl);Cs.exports={mkdirs:zn,mkdirsSync:Qn,mkdirp:zn,mkdirpSync:Qn,ensureDir:zn,ensureDirSync:Qn}});var ft=q((uy,Is)=>{"use strict";var Il=Ie().fromPromise,Ps=vt();function xl(e){return Ps.access(e).then(()=>!0).catch(()=>!1)}Is.exports={pathExists:Il(xl),pathExistsSync:Ps.existsSync}});var Zn=q((cy,xs)=>{"use strict";var Rt=xe();function Dl(e,t,r,n){Rt.open(e,"r+",(i,o)=>{if(i)return n(i);Rt.futimes(o,t,r,f=>{Rt.close(o,m=>{n&&n(f||m)})})})}function Ll(e,t,r){let n=Rt.openSync(e,"r+");return Rt.futimesSync(n,t,r),Rt.closeSync(n)}xs.exports={utimesMillis:Dl,utimesMillisSync:Ll}});var Et=q((fy,qs)=>{"use strict";var kt=vt(),ge=require("path"),ql=require("util");function Rl(e,t,r){let n=r.dereference?i=>kt.stat(i,{bigint:!0}):i=>kt.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function kl(e,t,r){let n,i=r.dereference?f=>kt.statSync(f,{bigint:!0}):f=>kt.lstatSync(f,{bigint:!0}),o=i(e);try{n=i(t)}catch(f){if(f.code==="ENOENT")return{srcStat:o,destStat:null};throw f}return{srcStat:o,destStat:n}}function Bl(e,t,r,n,i){ql.callbackify(Rl)(e,t,n,(o,f)=>{if(o)return i(o);let{srcStat:m,destStat:g}=f;if(g){if(rr(m,g)){let E=ge.basename(e),d=ge.basename(t);return r==="move"&&E!==d&&E.toLowerCase()===d.toLowerCase()?i(null,{srcStat:m,destStat:g,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(m.isDirectory()&&!g.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!m.isDirectory()&&g.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return m.isDirectory()&&ei(e,t)?i(new Error(tn(e,t,r))):i(null,{srcStat:m,destStat:g})})}function jl(e,t,r,n){let{srcStat:i,destStat:o}=kl(e,t,n);if(o){if(rr(i,o)){let f=ge.basename(e),m=ge.basename(t);if(r==="move"&&f!==m&&f.toLowerCase()===m.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&ei(e,t))throw new Error(tn(e,t,r));return{srcStat:i,destStat:o}}function Ds(e,t,r,n,i){let o=ge.resolve(ge.dirname(e)),f=ge.resolve(ge.dirname(r));if(f===o||f===ge.parse(f).root)return i();kt.stat(f,{bigint:!0},(m,g)=>m?m.code==="ENOENT"?i():i(m):rr(t,g)?i(new Error(tn(e,r,n))):Ds(e,t,f,n,i))}function Ls(e,t,r,n){let i=ge.resolve(ge.dirname(e)),o=ge.resolve(ge.dirname(r));if(o===i||o===ge.parse(o).root)return;let f;try{f=kt.statSync(o,{bigint:!0})}catch(m){if(m.code==="ENOENT")return;throw m}if(rr(t,f))throw new Error(tn(e,r,n));return Ls(e,t,o,n)}function rr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ei(e,t){let r=ge.resolve(e).split(ge.sep).filter(i=>i),n=ge.resolve(t).split(ge.sep).filter(i=>i);return r.reduce((i,o,f)=>i&&n[f]===o,!0)}function tn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}qs.exports={checkPaths:Bl,checkPathsSync:jl,checkParentPaths:Ds,checkParentPathsSync:Ls,isSrcSubdir:ei,areIdentical:rr}});var Ms=q((ly,Us)=>{"use strict";var De=xe(),nr=require("path"),Ul=Ke().mkdirs,Ml=ft().pathExists,$l=Zn().utimesMillis,ir=Et();function Kl(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),ir.checkPaths(e,t,"copy",r,(i,o)=>{if(i)return n(i);let{srcStat:f,destStat:m}=o;ir.checkParentPaths(e,f,t,"copy",g=>{if(g)return n(g);ks(e,t,r,(E,d)=>{if(E)return n(E);if(!d)return n();Vl(m,e,t,r,n)})})})}function Vl(e,t,r,n,i){let o=nr.dirname(r);Ml(o,(f,m)=>{if(f)return i(f);if(m)return ti(e,t,r,n,i);Ul(o,g=>g?i(g):ti(e,t,r,n,i))})}function ks(e,t,r,n){if(!r.filter)return n(null,!0);Promise.resolve(r.filter(e,t)).then(i=>n(null,i),i=>n(i))}function ti(e,t,r,n,i){(n.dereference?De.stat:De.lstat)(t,(f,m)=>f?i(f):m.isDirectory()?Ql(m,e,t,r,n,i):m.isFile()||m.isCharacterDevice()||m.isBlockDevice()?Gl(m,e,t,r,n,i):m.isSymbolicLink()?eh(e,t,r,n,i):m.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):m.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function Gl(e,t,r,n,i,o){return t?Wl(e,r,n,i,o):Bs(e,r,n,i,o)}function Wl(e,t,r,n,i){if(n.overwrite)De.unlink(r,o=>o?i(o):Bs(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function Bs(e,t,r,n,i){De.copyFile(t,r,o=>o?i(o):n.preserveTimestamps?Yl(e.mode,t,r,i):rn(r,e.mode,i))}function Yl(e,t,r,n){return Jl(e)?Hl(r,e,i=>i?n(i):Rs(e,t,r,n)):Rs(e,t,r,n)}function Jl(e){return(e&128)===0}function Hl(e,t,r){return rn(e,t|128,r)}function Rs(e,t,r,n){Xl(t,r,i=>i?n(i):rn(r,e,n))}function rn(e,t,r){return De.chmod(e,t,r)}function Xl(e,t,r){De.stat(e,(n,i)=>n?r(n):$l(t,i.atime,i.mtime,r))}function Ql(e,t,r,n,i,o){return t?js(r,n,i,o):zl(e.mode,r,n,i,o)}function zl(e,t,r,n,i){De.mkdir(r,o=>{if(o)return i(o);js(t,r,n,f=>f?i(f):rn(r,e,i))})}function js(e,t,r,n){De.readdir(e,(i,o)=>i?n(i):ri(o,e,t,r,n))}function ri(e,t,r,n,i){let o=e.pop();return o?Zl(e,o,t,r,n,i):i()}function Zl(e,t,r,n,i,o){let f=nr.join(r,t),m=nr.join(n,t);ks(f,m,i,(g,E)=>{if(g)return o(g);if(!E)return ri(e,r,n,i,o);ir.checkPaths(f,m,"copy",i,(d,A)=>{if(d)return o(d);let{destStat:b}=A;ti(b,f,m,i,N=>N?o(N):ri(e,r,n,i,o))})})}function eh(e,t,r,n,i){De.readlink(t,(o,f)=>{if(o)return i(o);if(n.dereference&&(f=nr.resolve(process.cwd(),f)),e)De.readlink(r,(m,g)=>m?m.code==="EINVAL"||m.code==="UNKNOWN"?De.symlink(f,r,i):i(m):(n.dereference&&(g=nr.resolve(process.cwd(),g)),ir.isSrcSubdir(f,g)?i(new Error(`Cannot copy '${f}' to a subdirectory of itself, '${g}'.`)):ir.isSrcSubdir(g,f)?i(new Error(`Cannot overwrite '${g}' with '${f}'.`)):th(f,r,i)));else return De.symlink(f,r,i)})}function th(e,t,r){De.unlink(t,n=>n?r(n):De.symlink(e,t,r))}Us.exports=Kl});var Ws=q((hy,Gs)=>{"use strict";var be=xe(),or=require("path"),rh=Ke().mkdirsSync,nh=Zn().utimesMillisSync,sr=Et();function ih(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=sr.checkPathsSync(e,t,"copy",r);if(sr.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;let o=or.dirname(t);return be.existsSync(o)||rh(o),$s(i,e,t,r)}function $s(e,t,r,n){let o=(n.dereference?be.statSync:be.lstatSync)(t);if(o.isDirectory())return lh(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return oh(o,e,t,r,n);if(o.isSymbolicLink())return dh(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function oh(e,t,r,n,i){return t?sh(e,r,n,i):Ks(e,r,n,i)}function sh(e,t,r,n){if(n.overwrite)return be.unlinkSync(r),Ks(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Ks(e,t,r,n){return be.copyFileSync(t,r),n.preserveTimestamps&&ah(e.mode,t,r),ni(r,e.mode)}function ah(e,t,r){return uh(e)&&ch(r,e),fh(t,r)}function uh(e){return(e&128)===0}function ch(e,t){return ni(e,t|128)}function ni(e,t){return be.chmodSync(e,t)}function fh(e,t){let r=be.statSync(e);return nh(t,r.atime,r.mtime)}function lh(e,t,r,n,i){return t?Vs(r,n,i):hh(e.mode,r,n,i)}function hh(e,t,r,n){return be.mkdirSync(r),Vs(t,r,n),ni(r,e)}function Vs(e,t,r){be.readdirSync(e).forEach(n=>mh(n,e,t,r))}function mh(e,t,r,n){let i=or.join(t,e),o=or.join(r,e);if(n.filter&&!n.filter(i,o))return;let{destStat:f}=sr.checkPathsSync(i,o,"copy",n);return $s(f,i,o,n)}function dh(e,t,r,n){let i=be.readlinkSync(t);if(n.dereference&&(i=or.resolve(process.cwd(),i)),e){let o;try{o=be.readlinkSync(r)}catch(f){if(f.code==="EINVAL"||f.code==="UNKNOWN")return be.symlinkSync(i,r);throw f}if(n.dereference&&(o=or.resolve(process.cwd(),o)),sr.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(sr.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return yh(i,r)}else return be.symlinkSync(i,r)}function yh(e,t){return be.unlinkSync(t),be.symlinkSync(e,t)}Gs.exports=ih});var nn=q((my,Ys)=>{"use strict";var ph=Ie().fromCallback;Ys.exports={copy:ph(Ms()),copySync:Ws()}});var ar=q((dy,Hs)=>{"use strict";var Js=xe(),gh=Ie().fromCallback;function vh(e,t){Js.rm(e,{recursive:!0,force:!0},t)}function Eh(e){Js.rmSync(e,{recursive:!0,force:!0})}Hs.exports={remove:gh(vh),removeSync:Eh}});var na=q((yy,ra)=>{"use strict";var wh=Ie().fromPromise,zs=vt(),Zs=require("path"),ea=Ke(),ta=ar(),Xs=wh(async function(t){let r;try{r=await zs.readdir(t)}catch{return ea.mkdirs(t)}return Promise.all(r.map(n=>ta.remove(Zs.join(t,n))))});function Qs(e){let t;try{t=zs.readdirSync(e)}catch{return ea.mkdirsSync(e)}t.forEach(r=>{r=Zs.join(e,r),ta.removeSync(r)})}ra.exports={emptyDirSync:Qs,emptydirSync:Qs,emptyDir:Xs,emptydir:Xs}});var aa=q((py,sa)=>{"use strict";var Sh=Ie().fromCallback,ia=require("path"),lt=xe(),oa=Ke();function _h(e,t){function r(){lt.writeFile(e,"",n=>{if(n)return t(n);t()})}lt.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let o=ia.dirname(e);lt.stat(o,(f,m)=>{if(f)return f.code==="ENOENT"?oa.mkdirs(o,g=>{if(g)return t(g);r()}):t(f);m.isDirectory()?r():lt.readdir(o,g=>{if(g)return t(g)})})})}function Th(e){let t;try{t=lt.statSync(e)}catch{}if(t&&t.isFile())return;let r=ia.dirname(e);try{lt.statSync(r).isDirectory()||lt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")oa.mkdirsSync(r);else throw n}lt.writeFileSync(e,"")}sa.exports={createFile:Sh(_h),createFileSync:Th}});var ha=q((gy,la)=>{"use strict";var Ah=Ie().fromCallback,ua=require("path"),ht=xe(),ca=Ke(),Oh=ft().pathExists,{areIdentical:fa}=Et();function Fh(e,t,r){function n(i,o){ht.link(i,o,f=>{if(f)return r(f);r(null)})}ht.lstat(t,(i,o)=>{ht.lstat(e,(f,m)=>{if(f)return f.message=f.message.replace("lstat","ensureLink"),r(f);if(o&&fa(m,o))return r(null);let g=ua.dirname(t);Oh(g,(E,d)=>{if(E)return r(E);if(d)return n(e,t);ca.mkdirs(g,A=>{if(A)return r(A);n(e,t)})})})})}function bh(e,t){let r;try{r=ht.lstatSync(t)}catch{}try{let o=ht.lstatSync(e);if(r&&fa(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=ua.dirname(t);return ht.existsSync(n)||ca.mkdirsSync(n),ht.linkSync(e,t)}la.exports={createLink:Ah(Fh),createLinkSync:bh}});var da=q((vy,ma)=>{"use strict";var mt=require("path"),ur=xe(),Nh=ft().pathExists;function Ch(e,t,r){if(mt.isAbsolute(e))return ur.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=mt.dirname(t),i=mt.join(n,e);return Nh(i,(o,f)=>o?r(o):f?r(null,{toCwd:i,toDst:e}):ur.lstat(e,m=>m?(m.message=m.message.replace("lstat","ensureSymlink"),r(m)):r(null,{toCwd:e,toDst:mt.relative(n,e)})))}}function Ph(e,t){let r;if(mt.isAbsolute(e)){if(r=ur.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=mt.dirname(t),i=mt.join(n,e);if(r=ur.existsSync(i),r)return{toCwd:i,toDst:e};if(r=ur.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:mt.relative(n,e)}}}ma.exports={symlinkPaths:Ch,symlinkPathsSync:Ph}});var ga=q((Ey,pa)=>{"use strict";var ya=xe();function Ih(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);ya.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function xh(e,t){let r;if(t)return t;try{r=ya.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}pa.exports={symlinkType:Ih,symlinkTypeSync:xh}});var Oa=q((wy,Aa)=>{"use strict";var Dh=Ie().fromCallback,Ea=require("path"),Ve=vt(),wa=Ke(),Lh=wa.mkdirs,qh=wa.mkdirsSync,Sa=da(),Rh=Sa.symlinkPaths,kh=Sa.symlinkPathsSync,_a=ga(),Bh=_a.symlinkType,jh=_a.symlinkTypeSync,Uh=ft().pathExists,{areIdentical:Ta}=Et();function Mh(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Ve.lstat(t,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([Ve.stat(e),Ve.stat(t)]).then(([f,m])=>{if(Ta(f,m))return n(null);va(e,t,r,n)}):va(e,t,r,n)})}function va(e,t,r,n){Rh(e,t,(i,o)=>{if(i)return n(i);e=o.toDst,Bh(o.toCwd,r,(f,m)=>{if(f)return n(f);let g=Ea.dirname(t);Uh(g,(E,d)=>{if(E)return n(E);if(d)return Ve.symlink(e,t,m,n);Lh(g,A=>{if(A)return n(A);Ve.symlink(e,t,m,n)})})})})}function $h(e,t,r){let n;try{n=Ve.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let m=Ve.statSync(e),g=Ve.statSync(t);if(Ta(m,g))return}let i=kh(e,t);e=i.toDst,r=jh(i.toCwd,r);let o=Ea.dirname(t);return Ve.existsSync(o)||qh(o),Ve.symlinkSync(e,t,r)}Aa.exports={createSymlink:Dh(Mh),createSymlinkSync:$h}});var Da=q((Sy,xa)=>{"use strict";var{createFile:Fa,createFileSync:ba}=aa(),{createLink:Na,createLinkSync:Ca}=ha(),{createSymlink:Pa,createSymlinkSync:Ia}=Oa();xa.exports={createFile:Fa,createFileSync:ba,ensureFile:Fa,ensureFileSync:ba,createLink:Na,createLinkSync:Ca,ensureLink:Na,ensureLinkSync:Ca,createSymlink:Pa,createSymlinkSync:Ia,ensureSymlink:Pa,ensureSymlinkSync:Ia}});var on=q((_y,La)=>{function Kh(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o}function Vh(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}La.exports={stringify:Kh,stripBom:Vh}});var Ba=q((Ty,ka)=>{var Bt;try{Bt=xe()}catch{Bt=require("fs")}var sn=Ie(),{stringify:qa,stripBom:Ra}=on();async function Gh(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Bt,n="throws"in t?t.throws:!0,i=await sn.fromCallback(r.readFile)(e,t);i=Ra(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(f){if(n)throw f.message=`${e}: ${f.message}`,f;return null}return o}var Wh=sn.fromPromise(Gh);function Yh(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Bt,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Ra(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function Jh(e,t,r={}){let n=r.fs||Bt,i=qa(t,r);await sn.fromCallback(n.writeFile)(e,i,r)}var Hh=sn.fromPromise(Jh);function Xh(e,t,r={}){let n=r.fs||Bt,i=qa(t,r);return n.writeFileSync(e,i,r)}var Qh={readFile:Wh,readFileSync:Yh,writeFile:Hh,writeFileSync:Xh};ka.exports=Qh});var Ua=q((Ay,ja)=>{"use strict";var an=Ba();ja.exports={readJson:an.readFile,readJsonSync:an.readFileSync,writeJson:an.writeFile,writeJsonSync:an.writeFileSync}});var un=q((Oy,Ka)=>{"use strict";var zh=Ie().fromCallback,cr=xe(),Ma=require("path"),$a=Ke(),Zh=ft().pathExists;function em(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=Ma.dirname(e);Zh(i,(o,f)=>{if(o)return n(o);if(f)return cr.writeFile(e,t,r,n);$a.mkdirs(i,m=>{if(m)return n(m);cr.writeFile(e,t,r,n)})})}function tm(e,...t){let r=Ma.dirname(e);if(cr.existsSync(r))return cr.writeFileSync(e,...t);$a.mkdirsSync(r),cr.writeFileSync(e,...t)}Ka.exports={outputFile:zh(em),outputFileSync:tm}});var Ga=q((Fy,Va)=>{"use strict";var{stringify:rm}=on(),{outputFile:nm}=un();async function im(e,t,r={}){let n=rm(t,r);await nm(e,n,r)}Va.exports=im});var Ya=q((by,Wa)=>{"use strict";var{stringify:om}=on(),{outputFileSync:sm}=un();function am(e,t,r){let n=om(t,r);sm(e,n,r)}Wa.exports=am});var Ha=q((Ny,Ja)=>{"use strict";var um=Ie().fromPromise,Ne=Ua();Ne.outputJson=um(Ga());Ne.outputJsonSync=Ya();Ne.outputJSON=Ne.outputJson;Ne.outputJSONSync=Ne.outputJsonSync;Ne.writeJSON=Ne.writeJson;Ne.writeJSONSync=Ne.writeJsonSync;Ne.readJSON=Ne.readJson;Ne.readJSONSync=Ne.readJsonSync;Ja.exports=Ne});var eu=q((Cy,Za)=>{"use strict";var cm=xe(),oi=require("path"),fm=nn().copy,za=ar().remove,lm=Ke().mkdirp,hm=ft().pathExists,Xa=Et();function mm(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;Xa.checkPaths(e,t,"move",r,(o,f)=>{if(o)return n(o);let{srcStat:m,isChangingCase:g=!1}=f;Xa.checkParentPaths(e,m,t,"move",E=>{if(E)return n(E);if(dm(t))return Qa(e,t,i,g,n);lm(oi.dirname(t),d=>d?n(d):Qa(e,t,i,g,n))})})}function dm(e){let t=oi.dirname(e);return oi.parse(t).root===t}function Qa(e,t,r,n,i){if(n)return ii(e,t,r,i);if(r)return za(t,o=>o?i(o):ii(e,t,r,i));hm(t,(o,f)=>o?i(o):f?i(new Error("dest already exists.")):ii(e,t,r,i))}function ii(e,t,r,n){cm.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):ym(e,t,r,n):n())}function ym(e,t,r,n){fm(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0},o=>o?n(o):za(e,n))}Za.exports=mm});var ou=q((Py,iu)=>{"use strict";var ru=xe(),ai=require("path"),pm=nn().copySync,nu=ar().removeSync,gm=Ke().mkdirpSync,tu=Et();function vm(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=tu.checkPathsSync(e,t,"move",r);return tu.checkParentPathsSync(e,i,t,"move"),Em(t)||gm(ai.dirname(t)),wm(e,t,n,o)}function Em(e){let t=ai.dirname(e);return ai.parse(t).root===t}function wm(e,t,r,n){if(n)return si(e,t,r);if(r)return nu(t),si(e,t,r);if(ru.existsSync(t))throw new Error("dest already exists.");return si(e,t,r)}function si(e,t,r){try{ru.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Sm(e,t,r)}}function Sm(e,t,r){return pm(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),nu(e)}iu.exports=vm});var au=q((Iy,su)=>{"use strict";var _m=Ie().fromCallback;su.exports={move:_m(eu()),moveSync:ou()}});var cu=q((xy,uu)=>{"use strict";uu.exports={...vt(),...nn(),...na(),...Da(),...Ha(),...Ke(),...au(),...un(),...ft(),...ar()}});var fu=q(cn=>{(function(e){e.parser=function(l,a){return new r(l,a)},e.SAXParser=r,e.SAXStream=E,e.createStream=g,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(l,a){if(!(this instanceof r))return new r(l,a);var O=this;i(O),O.q=O.c="",O.bufferCheckPosition=e.MAX_BUFFER_LENGTH,O.opt=a||{},O.opt.lowercase=O.opt.lowercase||O.opt.lowercasetags,O.looseCase=O.opt.lowercase?"toLowerCase":"toUpperCase",O.tags=[],O.closed=O.closedRoot=O.sawRoot=!1,O.tag=O.error=null,O.strict=!!l,O.noscript=!!(l||O.opt.noscript),O.state=p.BEGIN,O.strictEntities=O.opt.strictEntities,O.ENTITIES=O.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),O.attribList=[],O.opt.xmlns&&(O.ns=Object.create(k)),O.trackPosition=O.opt.position!==!1,O.trackPosition&&(O.position=O.line=O.column=0),K(O,"onready")}Object.create||(Object.create=function(l){function a(){}a.prototype=l;var O=new a;return O}),Object.keys||(Object.keys=function(l){var a=[];for(var O in l)l.hasOwnProperty(O)&&a.push(O);return a});function n(l){for(var a=Math.max(e.MAX_BUFFER_LENGTH,10),O=0,y=0,G=t.length;y<G;y++){var ue=l[t[y]].length;if(ue>a)switch(t[y]){case"textNode":z(l);break;case"cdata":R(l,"oncdata",l.cdata),l.cdata="";break;case"script":R(l,"onscript",l.script),l.script="";break;default:Y(l,"Max buffer length exceeded: "+t[y])}O=Math.max(O,ue)}var he=e.MAX_BUFFER_LENGTH-O;l.bufferCheckPosition=he+l.position}function i(l){for(var a=0,O=t.length;a<O;a++)l[t[a]]=""}function o(l){z(l),l.cdata!==""&&(R(l,"oncdata",l.cdata),l.cdata=""),l.script!==""&&(R(l,"onscript",l.script),l.script="")}r.prototype={end:function(){ie(this)},write:Le,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var f;try{f=require("stream").Stream}catch{f=function(){}}var m=e.EVENTS.filter(function(l){return l!=="error"&&l!=="end"});function g(l,a){return new E(l,a)}function E(l,a){if(!(this instanceof E))return new E(l,a);f.apply(this),this._parser=new r(l,a),this.writable=!0,this.readable=!0;var O=this;this._parser.onend=function(){O.emit("end")},this._parser.onerror=function(y){O.emit("error",y),O._parser.error=null},this._decoder=null,m.forEach(function(y){Object.defineProperty(O,"on"+y,{get:function(){return O._parser["on"+y]},set:function(G){if(!G)return O.removeAllListeners(y),O._parser["on"+y]=G,G;O.on(y,G)},enumerable:!0,configurable:!1})})}E.prototype=Object.create(f.prototype,{constructor:{value:E}}),E.prototype.write=function(l){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(l)){if(!this._decoder){var a=require("string_decoder").StringDecoder;this._decoder=new a("utf8")}l=this._decoder.write(l)}return this._parser.write(l.toString()),this.emit("data",l),!0},E.prototype.end=function(l){return l&&l.length&&this.write(l),this._parser.end(),!0},E.prototype.on=function(l,a){var O=this;return!O._parser["on"+l]&&m.indexOf(l)!==-1&&(O._parser["on"+l]=function(){var y=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,l),O.emit.apply(O,y)}),f.prototype.on.call(O,l,a)};var d="[CDATA[",A="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",k={xml:b,xmlns:N},Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,me=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function W(l){return l===" "||l===`
`||l==="\r"||l==="	"}function Te(l){return l==='"'||l==="'"}function He(l){return l===">"||W(l)}function le(l,a){return l.test(a)}function Kt(l,a){return!le(l,a)}var p=0;e.STATE={BEGIN:p++,BEGIN_WHITESPACE:p++,TEXT:p++,TEXT_ENTITY:p++,OPEN_WAKA:p++,SGML_DECL:p++,SGML_DECL_QUOTED:p++,DOCTYPE:p++,DOCTYPE_QUOTED:p++,DOCTYPE_DTD:p++,DOCTYPE_DTD_QUOTED:p++,COMMENT_STARTING:p++,COMMENT:p++,COMMENT_ENDING:p++,COMMENT_ENDED:p++,CDATA:p++,CDATA_ENDING:p++,CDATA_ENDING_2:p++,PROC_INST:p++,PROC_INST_BODY:p++,PROC_INST_ENDING:p++,OPEN_TAG:p++,OPEN_TAG_SLASH:p++,ATTRIB:p++,ATTRIB_NAME:p++,ATTRIB_NAME_SAW_WHITE:p++,ATTRIB_VALUE:p++,ATTRIB_VALUE_QUOTED:p++,ATTRIB_VALUE_CLOSED:p++,ATTRIB_VALUE_UNQUOTED:p++,ATTRIB_VALUE_ENTITY_Q:p++,ATTRIB_VALUE_ENTITY_U:p++,CLOSE_TAG:p++,CLOSE_TAG_SAW_WHITE:p++,SCRIPT:p++,SCRIPT_ENDING:p++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(l){var a=e.ENTITIES[l],O=typeof a=="number"?String.fromCharCode(a):a;e.ENTITIES[l]=O});for(var U in e.STATE)e.STATE[e.STATE[U]]=U;p=e.STATE;function K(l,a,O){l[a]&&l[a](O)}function R(l,a,O){l.textNode&&z(l),K(l,a,O)}function z(l){l.textNode=se(l.opt,l.textNode),l.textNode&&K(l,"ontext",l.textNode),l.textNode=""}function se(l,a){return l.trim&&(a=a.trim()),l.normalize&&(a=a.replace(/\s+/g," ")),a}function Y(l,a){return z(l),l.trackPosition&&(a+=`
Line: `+l.line+`
Column: `+l.column+`
Char: `+l.c),a=new Error(a),l.error=a,K(l,"onerror",a),l}function ie(l){return l.sawRoot&&!l.closedRoot&&L(l,"Unclosed root tag"),l.state!==p.BEGIN&&l.state!==p.BEGIN_WHITESPACE&&l.state!==p.TEXT&&Y(l,"Unexpected end"),z(l),l.c="",l.closed=!0,K(l,"onend"),r.call(l,l.strict,l.opt),l}function L(l,a){if(typeof l!="object"||!(l instanceof r))throw new Error("bad call to strictFail");l.strict&&Y(l,a)}function te(l){l.strict||(l.tagName=l.tagName[l.looseCase]());var a=l.tags[l.tags.length-1]||l,O=l.tag={name:l.tagName,attributes:{}};l.opt.xmlns&&(O.ns=a.ns),l.attribList.length=0,R(l,"onopentagstart",O)}function ae(l,a){var O=l.indexOf(":"),y=O<0?["",l]:l.split(":"),G=y[0],ue=y[1];return a&&l==="xmlns"&&(G="xmlns",ue=""),{prefix:G,local:ue}}function re(l){if(l.strict||(l.attribName=l.attribName[l.looseCase]()),l.attribList.indexOf(l.attribName)!==-1||l.tag.attributes.hasOwnProperty(l.attribName)){l.attribName=l.attribValue="";return}if(l.opt.xmlns){var a=ae(l.attribName,!0),O=a.prefix,y=a.local;if(O==="xmlns")if(y==="xml"&&l.attribValue!==b)L(l,"xml: prefix must be bound to "+b+`
Actual: `+l.attribValue);else if(y==="xmlns"&&l.attribValue!==N)L(l,"xmlns: prefix must be bound to "+N+`
Actual: `+l.attribValue);else{var G=l.tag,ue=l.tags[l.tags.length-1]||l;G.ns===ue.ns&&(G.ns=Object.create(ue.ns)),G.ns[y]=l.attribValue}l.attribList.push([l.attribName,l.attribValue])}else l.tag.attributes[l.attribName]=l.attribValue,R(l,"onattribute",{name:l.attribName,value:l.attribValue});l.attribName=l.attribValue=""}function fe(l,a){if(l.opt.xmlns){var O=l.tag,y=ae(l.tagName);O.prefix=y.prefix,O.local=y.local,O.uri=O.ns[y.prefix]||"",O.prefix&&!O.uri&&(L(l,"Unbound namespace prefix: "+JSON.stringify(l.tagName)),O.uri=y.prefix);var G=l.tags[l.tags.length-1]||l;O.ns&&G.ns!==O.ns&&Object.keys(O.ns).forEach(function(Ot){R(l,"onopennamespace",{prefix:Ot,uri:O.ns[Ot]})});for(var ue=0,he=l.attribList.length;ue<he;ue++){var we=l.attribList[ue],qe=we[0],tt=we[1],de=ae(qe,!0),Me=de.prefix,dr=de.local,yr=Me===""?"":O.ns[Me]||"",At={name:qe,value:tt,prefix:Me,local:dr,uri:yr};Me&&Me!=="xmlns"&&!yr&&(L(l,"Unbound namespace prefix: "+JSON.stringify(Me)),At.uri=Me),l.tag.attributes[qe]=At,R(l,"onattribute",At)}l.attribList.length=0}l.tag.isSelfClosing=!!a,l.sawRoot=!0,l.tags.push(l.tag),R(l,"onopentag",l.tag),a||(!l.noscript&&l.tagName.toLowerCase()==="script"?l.state=p.SCRIPT:l.state=p.TEXT,l.tag=null,l.tagName=""),l.attribName=l.attribValue="",l.attribList.length=0}function Vt(l){if(!l.tagName){L(l,"Weird empty close tag."),l.textNode+="</>",l.state=p.TEXT;return}if(l.script){if(l.tagName!=="script"){l.script+="</"+l.tagName+">",l.tagName="",l.state=p.SCRIPT;return}R(l,"onscript",l.script),l.script=""}var a=l.tags.length,O=l.tagName;l.strict||(O=O[l.looseCase]());for(var y=O;a--;){var G=l.tags[a];if(G.name!==y)L(l,"Unexpected close tag");else break}if(a<0){L(l,"Unmatched closing tag: "+l.tagName),l.textNode+="</"+l.tagName+">",l.state=p.TEXT;return}l.tagName=O;for(var ue=l.tags.length;ue-- >a;){var he=l.tag=l.tags.pop();l.tagName=l.tag.name,R(l,"onclosetag",l.tagName);var we={};for(var qe in he.ns)we[qe]=he.ns[qe];var tt=l.tags[l.tags.length-1]||l;l.opt.xmlns&&he.ns!==tt.ns&&Object.keys(he.ns).forEach(function(de){var Me=he.ns[de];R(l,"onclosenamespace",{prefix:de,uri:Me})})}a===0&&(l.closedRoot=!0),l.tagName=l.attribValue=l.attribName="",l.attribList.length=0,l.state=p.TEXT}function Tt(l){var a=l.entity,O=a.toLowerCase(),y,G="";return l.ENTITIES[a]?l.ENTITIES[a]:l.ENTITIES[O]?l.ENTITIES[O]:(a=O,a.charAt(0)==="#"&&(a.charAt(1)==="x"?(a=a.slice(2),y=parseInt(a,16),G=y.toString(16)):(a=a.slice(1),y=parseInt(a,10),G=y.toString(10))),a=a.replace(/^0+/,""),isNaN(y)||G.toLowerCase()!==a?(L(l,"Invalid character entity"),"&"+l.entity+";"):String.fromCodePoint(y))}function Gt(l,a){a==="<"?(l.state=p.OPEN_WAKA,l.startTagPosition=l.position):W(a)||(L(l,"Non-whitespace before first tag."),l.textNode=a,l.state=p.TEXT)}function mr(l,a){var O="";return a<l.length&&(O=l.charAt(a)),O}function Le(l){var a=this;if(this.error)throw this.error;if(a.closed)return Y(a,"Cannot write after close. Assign an onready handler.");if(l===null)return ie(a);typeof l=="object"&&(l=l.toString());for(var O=0,y="";y=mr(l,O++),a.c=y,!!y;)switch(a.trackPosition&&(a.position++,y===`
`?(a.line++,a.column=0):a.column++),a.state){case p.BEGIN:if(a.state=p.BEGIN_WHITESPACE,y==="\uFEFF")continue;Gt(a,y);continue;case p.BEGIN_WHITESPACE:Gt(a,y);continue;case p.TEXT:if(a.sawRoot&&!a.closedRoot){for(var G=O-1;y&&y!=="<"&&y!=="&";)y=mr(l,O++),y&&a.trackPosition&&(a.position++,y===`
`?(a.line++,a.column=0):a.column++);a.textNode+=l.substring(G,O-1)}y==="<"&&!(a.sawRoot&&a.closedRoot&&!a.strict)?(a.state=p.OPEN_WAKA,a.startTagPosition=a.position):(!W(y)&&(!a.sawRoot||a.closedRoot)&&L(a,"Text data outside of root node."),y==="&"?a.state=p.TEXT_ENTITY:a.textNode+=y);continue;case p.SCRIPT:y==="<"?a.state=p.SCRIPT_ENDING:a.script+=y;continue;case p.SCRIPT_ENDING:y==="/"?a.state=p.CLOSE_TAG:(a.script+="<"+y,a.state=p.SCRIPT);continue;case p.OPEN_WAKA:if(y==="!")a.state=p.SGML_DECL,a.sgmlDecl="";else if(!W(y))if(le(Q,y))a.state=p.OPEN_TAG,a.tagName=y;else if(y==="/")a.state=p.CLOSE_TAG,a.tagName="";else if(y==="?")a.state=p.PROC_INST,a.procInstName=a.procInstBody="";else{if(L(a,"Unencoded <"),a.startTagPosition+1<a.position){var ue=a.position-a.startTagPosition;y=new Array(ue).join(" ")+y}a.textNode+="<"+y,a.state=p.TEXT}continue;case p.SGML_DECL:(a.sgmlDecl+y).toUpperCase()===d?(R(a,"onopencdata"),a.state=p.CDATA,a.sgmlDecl="",a.cdata=""):a.sgmlDecl+y==="--"?(a.state=p.COMMENT,a.comment="",a.sgmlDecl=""):(a.sgmlDecl+y).toUpperCase()===A?(a.state=p.DOCTYPE,(a.doctype||a.sawRoot)&&L(a,"Inappropriately located doctype declaration"),a.doctype="",a.sgmlDecl=""):y===">"?(R(a,"onsgmldeclaration",a.sgmlDecl),a.sgmlDecl="",a.state=p.TEXT):(Te(y)&&(a.state=p.SGML_DECL_QUOTED),a.sgmlDecl+=y);continue;case p.SGML_DECL_QUOTED:y===a.q&&(a.state=p.SGML_DECL,a.q=""),a.sgmlDecl+=y;continue;case p.DOCTYPE:y===">"?(a.state=p.TEXT,R(a,"ondoctype",a.doctype),a.doctype=!0):(a.doctype+=y,y==="["?a.state=p.DOCTYPE_DTD:Te(y)&&(a.state=p.DOCTYPE_QUOTED,a.q=y));continue;case p.DOCTYPE_QUOTED:a.doctype+=y,y===a.q&&(a.q="",a.state=p.DOCTYPE);continue;case p.DOCTYPE_DTD:a.doctype+=y,y==="]"?a.state=p.DOCTYPE:Te(y)&&(a.state=p.DOCTYPE_DTD_QUOTED,a.q=y);continue;case p.DOCTYPE_DTD_QUOTED:a.doctype+=y,y===a.q&&(a.state=p.DOCTYPE_DTD,a.q="");continue;case p.COMMENT:y==="-"?a.state=p.COMMENT_ENDING:a.comment+=y;continue;case p.COMMENT_ENDING:y==="-"?(a.state=p.COMMENT_ENDED,a.comment=se(a.opt,a.comment),a.comment&&R(a,"oncomment",a.comment),a.comment=""):(a.comment+="-"+y,a.state=p.COMMENT);continue;case p.COMMENT_ENDED:y!==">"?(L(a,"Malformed comment"),a.comment+="--"+y,a.state=p.COMMENT):a.state=p.TEXT;continue;case p.CDATA:y==="]"?a.state=p.CDATA_ENDING:a.cdata+=y;continue;case p.CDATA_ENDING:y==="]"?a.state=p.CDATA_ENDING_2:(a.cdata+="]"+y,a.state=p.CDATA);continue;case p.CDATA_ENDING_2:y===">"?(a.cdata&&R(a,"oncdata",a.cdata),R(a,"onclosecdata"),a.cdata="",a.state=p.TEXT):y==="]"?a.cdata+="]":(a.cdata+="]]"+y,a.state=p.CDATA);continue;case p.PROC_INST:y==="?"?a.state=p.PROC_INST_ENDING:W(y)?a.state=p.PROC_INST_BODY:a.procInstName+=y;continue;case p.PROC_INST_BODY:if(!a.procInstBody&&W(y))continue;y==="?"?a.state=p.PROC_INST_ENDING:a.procInstBody+=y;continue;case p.PROC_INST_ENDING:y===">"?(R(a,"onprocessinginstruction",{name:a.procInstName,body:a.procInstBody}),a.procInstName=a.procInstBody="",a.state=p.TEXT):(a.procInstBody+="?"+y,a.state=p.PROC_INST_BODY);continue;case p.OPEN_TAG:le(C,y)?a.tagName+=y:(te(a),y===">"?fe(a):y==="/"?a.state=p.OPEN_TAG_SLASH:(W(y)||L(a,"Invalid character in tag name"),a.state=p.ATTRIB));continue;case p.OPEN_TAG_SLASH:y===">"?(fe(a,!0),Vt(a)):(L(a,"Forward-slash in opening tag not followed by >"),a.state=p.ATTRIB);continue;case p.ATTRIB:if(W(y))continue;y===">"?fe(a):y==="/"?a.state=p.OPEN_TAG_SLASH:le(Q,y)?(a.attribName=y,a.attribValue="",a.state=p.ATTRIB_NAME):L(a,"Invalid attribute name");continue;case p.ATTRIB_NAME:y==="="?a.state=p.ATTRIB_VALUE:y===">"?(L(a,"Attribute without value"),a.attribValue=a.attribName,re(a),fe(a)):W(y)?a.state=p.ATTRIB_NAME_SAW_WHITE:le(C,y)?a.attribName+=y:L(a,"Invalid attribute name");continue;case p.ATTRIB_NAME_SAW_WHITE:if(y==="=")a.state=p.ATTRIB_VALUE;else{if(W(y))continue;L(a,"Attribute without value"),a.tag.attributes[a.attribName]="",a.attribValue="",R(a,"onattribute",{name:a.attribName,value:""}),a.attribName="",y===">"?fe(a):le(Q,y)?(a.attribName=y,a.state=p.ATTRIB_NAME):(L(a,"Invalid attribute name"),a.state=p.ATTRIB)}continue;case p.ATTRIB_VALUE:if(W(y))continue;Te(y)?(a.q=y,a.state=p.ATTRIB_VALUE_QUOTED):(L(a,"Unquoted attribute value"),a.state=p.ATTRIB_VALUE_UNQUOTED,a.attribValue=y);continue;case p.ATTRIB_VALUE_QUOTED:if(y!==a.q){y==="&"?a.state=p.ATTRIB_VALUE_ENTITY_Q:a.attribValue+=y;continue}re(a),a.q="",a.state=p.ATTRIB_VALUE_CLOSED;continue;case p.ATTRIB_VALUE_CLOSED:W(y)?a.state=p.ATTRIB:y===">"?fe(a):y==="/"?a.state=p.OPEN_TAG_SLASH:le(Q,y)?(L(a,"No whitespace between attributes"),a.attribName=y,a.attribValue="",a.state=p.ATTRIB_NAME):L(a,"Invalid attribute name");continue;case p.ATTRIB_VALUE_UNQUOTED:if(!He(y)){y==="&"?a.state=p.ATTRIB_VALUE_ENTITY_U:a.attribValue+=y;continue}re(a),y===">"?fe(a):a.state=p.ATTRIB;continue;case p.CLOSE_TAG:if(a.tagName)y===">"?Vt(a):le(C,y)?a.tagName+=y:a.script?(a.script+="</"+a.tagName,a.tagName="",a.state=p.SCRIPT):(W(y)||L(a,"Invalid tagname in closing tag"),a.state=p.CLOSE_TAG_SAW_WHITE);else{if(W(y))continue;Kt(Q,y)?a.script?(a.script+="</"+y,a.state=p.SCRIPT):L(a,"Invalid tagname in closing tag."):a.tagName=y}continue;case p.CLOSE_TAG_SAW_WHITE:if(W(y))continue;y===">"?Vt(a):L(a,"Invalid characters in closing tag");continue;case p.TEXT_ENTITY:case p.ATTRIB_VALUE_ENTITY_Q:case p.ATTRIB_VALUE_ENTITY_U:var he,we;switch(a.state){case p.TEXT_ENTITY:he=p.TEXT,we="textNode";break;case p.ATTRIB_VALUE_ENTITY_Q:he=p.ATTRIB_VALUE_QUOTED,we="attribValue";break;case p.ATTRIB_VALUE_ENTITY_U:he=p.ATTRIB_VALUE_UNQUOTED,we="attribValue";break}y===";"?(a[we]+=Tt(a),a.entity="",a.state=he):le(a.entity.length?me:P,y)?a.entity+=y:(L(a,"Invalid character in entity name"),a[we]+="&"+a.entity+y,a.entity="",a.state=he);continue;default:throw new Error(a,"Unknown state: "+a.state)}return a.position>=a.bufferCheckPosition&&n(a),a}String.fromCodePoint||function(){var l=String.fromCharCode,a=Math.floor,O=function(){var y=16384,G=[],ue,he,we=-1,qe=arguments.length;if(!qe)return"";for(var tt="";++we<qe;){var de=Number(arguments[we]);if(!isFinite(de)||de<0||de>1114111||a(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?G.push(de):(de-=65536,ue=(de>>10)+55296,he=de%1024+56320,G.push(ue,he)),(we+1===qe||G.length>y)&&(tt+=l.apply(null,G),G.length=0)}return tt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O}()})(typeof cn>"u"?cn.sax={}:cn)});var fn=q((Ly,lu)=>{lu.exports={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}});var ln=q((qy,hu)=>{var Tm=fn().isArray;hu.exports={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!Tm(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}});var ci=q((Ry,wu)=>{var Am=fu(),Om={on:function(){},parse:function(){}},$=ln(),jt=fn().isArray,S,ui=!0,M;function Fm(e){return S=$.copyOptions(e),$.ensureFlagExists("ignoreDeclaration",S),$.ensureFlagExists("ignoreInstruction",S),$.ensureFlagExists("ignoreAttributes",S),$.ensureFlagExists("ignoreText",S),$.ensureFlagExists("ignoreComment",S),$.ensureFlagExists("ignoreCdata",S),$.ensureFlagExists("ignoreDoctype",S),$.ensureFlagExists("compact",S),$.ensureFlagExists("alwaysChildren",S),$.ensureFlagExists("addParent",S),$.ensureFlagExists("trim",S),$.ensureFlagExists("nativeType",S),$.ensureFlagExists("nativeTypeAttributes",S),$.ensureFlagExists("sanitize",S),$.ensureFlagExists("instructionHasAttributes",S),$.ensureFlagExists("captureSpacesBetweenElements",S),$.ensureAlwaysArrayExists(S),$.ensureKeyExists("declaration",S),$.ensureKeyExists("instruction",S),$.ensureKeyExists("attributes",S),$.ensureKeyExists("text",S),$.ensureKeyExists("comment",S),$.ensureKeyExists("cdata",S),$.ensureKeyExists("doctype",S),$.ensureKeyExists("type",S),$.ensureKeyExists("name",S),$.ensureKeyExists("elements",S),$.ensureKeyExists("parent",S),$.checkFnExists("doctype",S),$.checkFnExists("instruction",S),$.checkFnExists("cdata",S),$.checkFnExists("comment",S),$.checkFnExists("text",S),$.checkFnExists("instructionName",S),$.checkFnExists("elementName",S),$.checkFnExists("attributeName",S),$.checkFnExists("attributeValue",S),$.checkFnExists("attributes",S),S}function vu(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return r==="true"?!0:r==="false"?!1:e}function fr(e,t){var r;if(S.compact){if(!M[S[e+"Key"]]&&(jt(S.alwaysArray)?S.alwaysArray.indexOf(S[e+"Key"])!==-1:S.alwaysArray)&&(M[S[e+"Key"]]=[]),M[S[e+"Key"]]&&!jt(M[S[e+"Key"]])&&(M[S[e+"Key"]]=[M[S[e+"Key"]]]),e+"Fn"in S&&typeof t=="string"&&(t=S[e+"Fn"](t,M)),e==="instruction"&&("instructionFn"in S||"instructionNameFn"in S)){for(r in t)if(t.hasOwnProperty(r))if("instructionFn"in S)t[r]=S.instructionFn(t[r],r,M);else{var n=t[r];delete t[r],t[S.instructionNameFn(r,n,M)]=n}}jt(M[S[e+"Key"]])?M[S[e+"Key"]].push(t):M[S[e+"Key"]]=t}else{M[S.elementsKey]||(M[S.elementsKey]=[]);var i={};if(i[S.typeKey]=e,e==="instruction"){for(r in t)if(t.hasOwnProperty(r))break;i[S.nameKey]="instructionNameFn"in S?S.instructionNameFn(r,t,M):r,S.instructionHasAttributes?(i[S.attributesKey]=t[r][S.attributesKey],"instructionFn"in S&&(i[S.attributesKey]=S.instructionFn(i[S.attributesKey],r,M))):("instructionFn"in S&&(t[r]=S.instructionFn(t[r],r,M)),i[S.instructionKey]=t[r])}else e+"Fn"in S&&(t=S[e+"Fn"](t,M)),i[S[e+"Key"]]=t;S.addParent&&(i[S.parentKey]=M),M[S.elementsKey].push(i)}}function Eu(e){if("attributesFn"in S&&e&&(e=S.attributesFn(e,M)),(S.trim||"attributeValueFn"in S||"attributeNameFn"in S||S.nativeTypeAttributes)&&e){var t;for(t in e)if(e.hasOwnProperty(t)&&(S.trim&&(e[t]=e[t].trim()),S.nativeTypeAttributes&&(e[t]=vu(e[t])),"attributeValueFn"in S&&(e[t]=S.attributeValueFn(e[t],t,M)),"attributeNameFn"in S)){var r=e[t];delete e[t],e[S.attributeNameFn(t,e[t],M)]=r}}return e}function bm(e){var t={};if(e.body&&(e.name.toLowerCase()==="xml"||S.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=r.exec(e.body))!==null;)t[n[1]]=n[2]||n[3]||n[4];t=Eu(t)}if(e.name.toLowerCase()==="xml"){if(S.ignoreDeclaration)return;M[S.declarationKey]={},Object.keys(t).length&&(M[S.declarationKey][S.attributesKey]=t),S.addParent&&(M[S.declarationKey][S.parentKey]=M)}else{if(S.ignoreInstruction)return;S.trim&&(e.body=e.body.trim());var i={};S.instructionHasAttributes&&Object.keys(t).length?(i[e.name]={},i[e.name][S.attributesKey]=t):i[e.name]=e.body,fr("instruction",i)}}function mu(e,t){var r;if(typeof e=="object"&&(t=e.attributes,e=e.name),t=Eu(t),"elementNameFn"in S&&(e=S.elementNameFn(e,M)),S.compact){if(r={},!S.ignoreAttributes&&t&&Object.keys(t).length){r[S.attributesKey]={};var n;for(n in t)t.hasOwnProperty(n)&&(r[S.attributesKey][n]=t[n])}!(e in M)&&(jt(S.alwaysArray)?S.alwaysArray.indexOf(e)!==-1:S.alwaysArray)&&(M[e]=[]),M[e]&&!jt(M[e])&&(M[e]=[M[e]]),jt(M[e])?M[e].push(r):M[e]=r}else M[S.elementsKey]||(M[S.elementsKey]=[]),r={},r[S.typeKey]="element",r[S.nameKey]=e,!S.ignoreAttributes&&t&&Object.keys(t).length&&(r[S.attributesKey]=t),S.alwaysChildren&&(r[S.elementsKey]=[]),M[S.elementsKey].push(r);r[S.parentKey]=M,M=r}function du(e){S.ignoreText||!e.trim()&&!S.captureSpacesBetweenElements||(S.trim&&(e=e.trim()),S.nativeType&&(e=vu(e)),S.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),fr("text",e))}function yu(e){S.ignoreComment||(S.trim&&(e=e.trim()),fr("comment",e))}function pu(e){var t=M[S.parentKey];S.addParent||delete M[S.parentKey],M=t}function Nm(e){S.ignoreCdata||(S.trim&&(e=e.trim()),fr("cdata",e))}function Cm(e){S.ignoreDoctype||(e=e.replace(/^ /,""),S.trim&&(e=e.trim()),fr("doctype",e))}function gu(e){e.note=e}wu.exports=function(e,t){var r=ui?Am.parser(!0,{}):r=new Om.Parser("UTF-8"),n={};if(M=n,S=Fm(t),ui?(r.opt={strictEntities:!0},r.onopentag=mu,r.ontext=du,r.oncomment=yu,r.onclosetag=pu,r.onerror=gu,r.oncdata=Nm,r.ondoctype=Cm,r.onprocessinginstruction=bm):(r.on("startElement",mu),r.on("text",du),r.on("comment",yu),r.on("endElement",pu),r.on("error",gu)),ui)r.write(e).close();else if(!r.parse(e))throw new Error("XML parsing error: "+r.getError());if(n[S.elementsKey]){var i=n[S.elementsKey];delete n[S.elementsKey],n[S.elementsKey]=i,delete n.text}return n}});var Tu=q((ky,_u)=>{var Su=ln(),Pm=ci();function Im(e){var t=Su.copyOptions(e);return Su.ensureSpacesExists(t),t}_u.exports=function(e,t){var r,n,i,o;return r=Im(t),n=Pm(e,r),o="compact"in r&&r.compact?"_parent":"parent","addParent"in r&&r.addParent?i=JSON.stringify(n,function(f,m){return f===o?"_":m},r.spaces):i=JSON.stringify(n,null,r.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}});var li=q((By,xu)=>{var V=ln(),xm=fn().isArray,Se,_e;function Dm(e){var t=V.copyOptions(e);return V.ensureFlagExists("ignoreDeclaration",t),V.ensureFlagExists("ignoreInstruction",t),V.ensureFlagExists("ignoreAttributes",t),V.ensureFlagExists("ignoreText",t),V.ensureFlagExists("ignoreComment",t),V.ensureFlagExists("ignoreCdata",t),V.ensureFlagExists("ignoreDoctype",t),V.ensureFlagExists("compact",t),V.ensureFlagExists("indentText",t),V.ensureFlagExists("indentCdata",t),V.ensureFlagExists("indentAttributes",t),V.ensureFlagExists("indentInstruction",t),V.ensureFlagExists("fullTagEmptyElement",t),V.ensureFlagExists("noQuotesForNativeAttributes",t),V.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),V.ensureKeyExists("declaration",t),V.ensureKeyExists("instruction",t),V.ensureKeyExists("attributes",t),V.ensureKeyExists("text",t),V.ensureKeyExists("comment",t),V.ensureKeyExists("cdata",t),V.ensureKeyExists("doctype",t),V.ensureKeyExists("type",t),V.ensureKeyExists("name",t),V.ensureKeyExists("elements",t),V.checkFnExists("doctype",t),V.checkFnExists("instruction",t),V.checkFnExists("cdata",t),V.checkFnExists("comment",t),V.checkFnExists("text",t),V.checkFnExists("instructionName",t),V.checkFnExists("elementName",t),V.checkFnExists("attributeName",t),V.checkFnExists("attributeValue",t),V.checkFnExists("attributes",t),V.checkFnExists("fullTagEmptyElement",t),t}function Ye(e,t,r){return(!r&&e.spaces?`
`:"")+Array(t+1).join(e.spaces)}function hn(e,t,r){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,_e,Se));var n,i,o,f,m=[];for(n in e)e.hasOwnProperty(n)&&e[n]!==null&&e[n]!==void 0&&(f=t.noQuotesForNativeAttributes&&typeof e[n]!="string"?"":'"',i=""+e[n],i=i.replace(/"/g,"&quot;"),o="attributeNameFn"in t?t.attributeNameFn(n,i,_e,Se):n,m.push(t.spaces&&t.indentAttributes?Ye(t,r+1,!1):" "),m.push(o+"="+f+("attributeValueFn"in t?t.attributeValueFn(i,n,_e,Se):i)+f));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&m.push(Ye(t,r,!1)),m.join("")}function Au(e,t,r){return Se=e,_e="xml",t.ignoreDeclaration?"":"<?xml"+hn(e[t.attributesKey],t,r)+"?>"}function Ou(e,t,r){if(t.ignoreInstruction)return"";var n;for(n in e)if(e.hasOwnProperty(n))break;var i="instructionNameFn"in t?t.instructionNameFn(n,e[n],_e,Se):n;if(typeof e[n]=="object")return Se=e,_e=i,"<?"+i+hn(e[n][t.attributesKey],t,r)+"?>";var o=e[n]?e[n]:"";return"instructionFn"in t&&(o=t.instructionFn(o,n,_e,Se)),"<?"+i+(o?" "+o:"")+"?>"}function Fu(e,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(e,_e,Se):e)+"-->"}function bu(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,_e,Se):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Nu(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,_e,Se):e)+">"}function fi(e,t){return t.ignoreText?"":(e=""+e,e=e.replace(/&amp;/g,"&"),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,_e,Se):e)}function Lm(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function qm(e,t,r){Se=e,_e=e.name;var n=[],i="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;n.push("<"+i),e[t.attributesKey]&&n.push(hn(e[t.attributesKey],t,r));var o=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&e[t.attributesKey]["xml:space"]==="preserve";return o||("fullTagEmptyElementFn"in t?o=t.fullTagEmptyElementFn(e.name,e):o=t.fullTagEmptyElement),o?(n.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(n.push(Cu(e[t.elementsKey],t,r+1)),Se=e,_e=e.name),n.push(t.spaces&&Lm(e,t)?`
`+Array(r+1).join(t.spaces):""),n.push("</"+i+">")):n.push("/>"),n.join("")}function Cu(e,t,r,n){return e.reduce(function(i,o){var f=Ye(t,r,n&&!i);switch(o.type){case"element":return i+f+qm(o,t,r);case"comment":return i+f+Fu(o[t.commentKey],t);case"doctype":return i+f+Nu(o[t.doctypeKey],t);case"cdata":return i+(t.indentCdata?f:"")+bu(o[t.cdataKey],t);case"text":return i+(t.indentText?f:"")+fi(o[t.textKey],t);case"instruction":var m={};return m[o[t.nameKey]]=o[t.attributesKey]?o:o[t.instructionKey],i+(t.indentInstruction?f:"")+Ou(m,t,r)}},"")}function Pu(e,t,r){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function Rm(e,t,r,n,i){Se=e,_e=t;var o="elementNameFn"in r?r.elementNameFn(t,e):t;if(typeof e>"u"||e===null||e==="")return"fullTagEmptyElementFn"in r&&r.fullTagEmptyElementFn(t,e)||r.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var f=[];if(t){if(f.push("<"+o),typeof e!="object")return f.push(">"+fi(e,r)+"</"+o+">"),f.join("");e[r.attributesKey]&&f.push(hn(e[r.attributesKey],r,n));var m=Pu(e,r,!0)||e[r.attributesKey]&&e[r.attributesKey]["xml:space"]==="preserve";if(m||("fullTagEmptyElementFn"in r?m=r.fullTagEmptyElementFn(t,e):m=r.fullTagEmptyElement),m)f.push(">");else return f.push("/>"),f.join("")}return f.push(Iu(e,r,n+1,!1)),Se=e,_e=t,t&&f.push((i?Ye(r,n,!1):"")+"</"+o+">"),f.join("")}function Iu(e,t,r,n){var i,o,f,m=[];for(o in e)if(e.hasOwnProperty(o))for(f=xm(e[o])?e[o]:[e[o]],i=0;i<f.length;++i){switch(o){case t.declarationKey:m.push(Au(f[i],t,r));break;case t.instructionKey:m.push((t.indentInstruction?Ye(t,r,n):"")+Ou(f[i],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?Ye(t,r,n):"")+fi(f[i],t));break;case t.cdataKey:m.push((t.indentCdata?Ye(t,r,n):"")+bu(f[i],t));break;case t.doctypeKey:m.push(Ye(t,r,n)+Nu(f[i],t));break;case t.commentKey:m.push(Ye(t,r,n)+Fu(f[i],t));break;default:m.push(Ye(t,r,n)+Rm(f[i],o,t,r,Pu(f[i],t)))}n=n&&!m.length}return m.join("")}xu.exports=function(e,t){t=Dm(t);var r=[];return Se=e,_e="_root_",t.compact?r.push(Iu(e,t,0,!0)):(e[t.declarationKey]&&r.push(Au(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&r.push(Cu(e[t.elementsKey],t,0,!r.length))),r.join("")}});var Lu=q((jy,Du)=>{var km=li();Du.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return km(r,t)}});var Ru=q((Uy,qu)=>{var Bm=ci(),jm=Tu(),Um=li(),Mm=Lu();qu.exports={xml2js:Bm,xml2json:jm,js2xml:Um,json2xml:Mm}});var Bu=q((My,ku)=>{"use strict";var hi=require("fs"),mi=class{constructor(t,r){r=r||{},r.readChunk||(r.readChunk=1024),r.newLineCharacter?r.newLineCharacter=r.newLineCharacter.charCodeAt(0):r.newLineCharacter=10,typeof t=="number"?this.fd=t:this.fd=hi.openSync(t,"r"),this.options=r,this.newLineCharacter=r.newLineCharacter,this.reset()}_searchInBuffer(t,r){let n=-1;for(let i=0;i<=t.length;i++)if(t[i]===r){n=i;break}return n}reset(){this.eofReached=!1,this.linesCache=[],this.fdPosition=0}close(){hi.closeSync(this.fd),this.fd=null}_extractLines(t){let r,n=[],i=0,o=0;for(;;){let m=t[i++];if(m===this.newLineCharacter)r=t.slice(o,i),n.push(r),o=i;else if(m===void 0)break}let f=t.slice(o,i);return f.length&&n.push(f),n}_readChunk(t){let r=0,n,i=[];do{let f=new Buffer(this.options.readChunk);n=hi.readSync(this.fd,f,0,this.options.readChunk,this.fdPosition),r=r+n,this.fdPosition=this.fdPosition+n,i.push(f)}while(n&&this._searchInBuffer(i[i.length-1],this.options.newLineCharacter)===-1);let o=Buffer.concat(i);return n<this.options.readChunk&&(this.eofReached=!0,o=o.slice(0,r)),r&&(this.linesCache=this._extractLines(o),t&&(this.linesCache[0]=Buffer.concat([t,this.linesCache[0]]))),r}next(){if(!this.fd)return!1;let t=!1;if(this.eofReached&&this.linesCache.length===0)return t;let r;return this.linesCache.length||(r=this._readChunk()),this.linesCache.length&&(t=this.linesCache.shift(),t[t.length-1]!==this.newLineCharacter&&(r=this._readChunk(t),r&&(t=this.linesCache.shift()))),this.eofReached&&this.linesCache.length===0&&this.close(),t&&t[t.length-1]===this.newLineCharacter&&(t=t.slice(0,t.length-1)),t}};ku.exports=mi});var ed={};oo(ed,{logError:()=>wt,logInfo:()=>Ze});module.exports=ao(ed);var Je=nt(Bn()),Xu=nt(ls()),Qu=nt(cu()),_t=require("node:child_process"),$t=require("node:fs"),et=require("node:path"),zu=nt(Ru());var ju=nt(Bu()),Uu=require("node:child_process"),Ge=require("node:fs"),Mu=require("node:http"),$u=require("node:https"),Ut=require("node:os"),lr=require("node:path");var di=JSON.parse((0,Ge.readFileSync)((0,lr.join)(__dirname,"..","package.json"),"utf-8")),$m=`${di.name||"Action-SpigotMC"}/${di.version||"UNKNOWN_VERSION"} (+${di.homepage||"https://github.com/SpraxDev/Action-SpigotMC"})`,Ku=(0,Ut.cpus)().length,Vu=(0,Ut.homedir)();function Gu(e){let t=[];for(let r of e){let n=r.trim();n&&!t.includes(n)&&t.push(n)}return t}function Wu(e){return/^[0-9]+$/.test(e)}async function yi(e,t,r,n,i=!1){return new Promise((o,f)=>{let m=typeof n=="string",g=typeof n!="string"?n:(0,Ge.createWriteStream)(n,{encoding:"utf-8",flags:"a"}),E=(0,Uu.spawn)(e,t,{shell:!0,cwd:r,env:process.env});E.stdout.on("data",d=>{g.write(d),i||process.stdout.write(d)}),E.stderr.on("data",d=>{g.write(d),i||process.stderr.write(d)}),E.on("close",d=>{if(m&&g.close(),d!=0)return f({err:new Error(`process exited with code ${d}`),cmd:e,workingDir:r});o()})})}async function hr(e,t,r=0){let n=e.toLowerCase().startsWith("http://")?Mu.get:$u.get;return new Promise((i,o)=>{let f=null,m=function(g){f&&(f.close(),f=null,g&&t!=null&&(0,Ge.rmSync)(t,{recursive:!0}))};n(e,{headers:{"User-Agent":$m}},g=>{if(g.statusCode!=200){let E=g.headers.location;return r<12&&E&&(g.statusCode==301||g.statusCode==302||g.statusCode==303||g.statusCode==307||g.statusCode==308)?(m(!1),/https?:\/\//g.test(E)?hr(E,t,++r).then(i).catch(o):o(new Error(`Server responded with ${g.statusCode} and a relative Location-Header value (${E})`))):(m(!0),o(new Error(`Server responded with ${g.statusCode}`)))}if(t!=null)f=(0,Ge.createWriteStream)(t,{encoding:"binary"}).on("finish",()=>(m(!1),i())).on("error",E=>(m(!0),o(E))),g.pipe(f);else{let E=[];g.on("data",d=>{E.push(Buffer.from(d,"binary"))}),g.on("end",()=>{i(Buffer.concat(E))})}}).on("error",g=>(m(!0),o(g)))})}function Yu(e,t,r="utf-8"){let n=[],i=new ju.default(e),o;for(;o=i.next();)n.push(o.toString(r)),n.length>t&&n.shift();return n}function Ju(){let e=(0,lr.join)((0,Ut.tmpdir)(),"SpraxDev-Action-SpigotMC"),t=(0,lr.join)(e,"cache"),r=(0,lr.join)(e,"logs");return(0,Ge.rmSync)(e,{recursive:!0,force:!0}),(0,Ge.mkdirSync)(t,{recursive:!0}),(0,Ge.mkdirSync)(r,{recursive:!0}),{base:e,cache:t,logs:r}}function Hu(e,t){return t&&(typeof t=="string"?Ze(t):wt(t)),process.exit(e)}var pi={spigotmc:{url:"https://hub.spigotmc.org/jenkins/job/BuildTools/lastSuccessfulBuild/artifact/target/BuildTools.jar"}},gi=(Je.getInput("buildToolProvider")||"SpigotMC").toLowerCase(),Mt=Gu((Je.getInput("versions")||"latest").toLowerCase().split(",")),Km=Je.getInput("generateSrc")=="true",Vm=Je.getInput("generateDoc")=="true",Gm=Je.getInput("disableJavaCheck")=="true",Wm=Je.getInput("remapped")=="true",Ym=Je.getInput("forceRun")=="true",Jm=Wu(Je.getInput("threads"))?parseInt(Je.getInput("threads")):Ku,St=Ju(),Hm=(0,et.join)(St.logs,"SpraxDev_Actions-SpigotMC.log"),wi=(0,$t.createWriteStream)(Hm,{encoding:"utf-8",flags:"a"});async function Xm(){return new Promise(async(e,t)=>{try{if(Mt.length==0)return e({code:0,msg:"No version(s) provided to build"});if(!Object.keys(pi).includes(gi))return t(new Error(`'${gi}' is not a valid BuildTool-Provider (${Object.keys(pi).join(", ")})`));if(!Ym&&(Mt=await Qm(Mt,(f,m)=>{Ze(`Skipping version '${f}' because it has been found in the local maven repository: ${m}`)}),Mt.length==0))return e({code:0,msg:"No new versions to build"});let r=pi[gi];Ze("Installed Java-Version:"),await yi("java",["-version"],St.base,wi),Ze(`
Downloading '${r.url}'...`),await hr(r.url,(0,et.join)(St.cache,"BuildTools.jar"));let n=Mt.length!=1,i=["-jar","BuildTools.jar","--compile","Spigot"];Km&&i.push("--generate-source"),Vm&&i.push("--generate-docs"),Gm&&i.push("--disable-java-check"),Wm&&i.push("--remapped");let o=[];for(let f of Mt)o.push(async()=>new Promise(async(m,g)=>{let E=Date.now(),d=(0,et.join)(St.logs,`${f}.log`);Ze(`Building version '${f}'...`);let A=n?(0,et.join)(St.base,`${f}`):St.cache;n&&await(0,Qu.copy)(St.cache,A);try{await yi("java",[...i,"--rev",f],A,d,!0),n&&(0,$t.rmSync)(A,{recursive:!0});let b=Date.now();Ze(`Finished '${f}' in ${((b-E)/6e4).toFixed(2)} minutes`),m()}catch(b){Ze(`An error occurred while building '${f}'`),wt(b),wt(`
Printing last 30 lines from '${(0,et.resolve)(d)}':`);for(let N of Yu(d,30))wt(N);g(b)}}));(0,Xu.parallelLimit)(o,Jm,f=>{if(f)return t(f);e({code:0})})}catch(r){t(r)}})}async function Qm(e,t){return new Promise(async(r,n)=>{let i=[];for(let o of e){let f=!1,m=o!="latest"?o:null;try{let E=await hr(`https://hub.spigotmc.org/versions/${o}.json`,null),A=(E instanceof Buffer?JSON.parse(E.toString("utf-8")):null)?.refs?.Bukkit;if(A){let b=await hr(`https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/raw/pom.xml?at=${A}`,null);b instanceof Buffer&&(m=(0,zu.xml2js)(b.toString("utf-8"),{compact:!0,ignoreComment:!0,ignoreAttributes:!0}).project?.version?._text)}}catch(E){wt(E)}let g=(0,et.resolve)((0,et.join)(Vu,`/.m2/repository/org/spigotmc/spigot/${m}/spigot-${m}.jar`));m&&(f=(0,$t.existsSync)(g)),f?t(o,g):i.push(o)}r(i)})}function Ze(e){console.log(e),wi.write(e+`
`)}function wt(e){typeof e!="string"&&(e=JSON.stringify(e,null,2)),console.error(e),wi.write(e+`
`)}var mn=null,dn=null;function zm(){let e=(0,_t.spawnSync)("git",["config","--global","user.name"]);e.status==0&&(mn=e.stdout.toString()),e=(0,_t.spawnSync)("git",["config","--global","user.email"]),e.status==0&&(dn=e.stdout.toString());let t=`GitHub Runner on ${process.env.GITHUB_REPOSITORY||"Unknown_Repository"} (id=${process.env.GITHUB_RUN_ID})`,r="no-reply@example.com";(0,_t.spawnSync)("git",["config","--global","user.name",t]),(0,_t.spawnSync)("git",["config","--global","user.email",r]),console.log(`Configured git user set to '${t} <${r}>' (was '${mn} <${dn}>')`)}function Zm(){(0,_t.spawnSync)("git",["config","--global","user.name",mn??""]),(0,_t.spawnSync)("git",["config","--global","user.email",dn??""]),console.log(`Configured git user restored to '${mn??""} <${dn??""}>'`)}var vi=2,Ei;zm();Xm().then(e=>{vi=e.code,Ei=e.msg}).catch(e=>{vi=1,Ei=e}).finally(()=>{Zm(),Hu(vi,Ei)});0&&(module.exports={logError,logInfo});
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
//# sourceMappingURL=index.js.map
